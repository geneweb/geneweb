(library
  (name dummy_gwdb)
  (libraries geneweb.def geneweb.util stdlib-shims)
  (implements geneweb.gwdb_driver)
  (modules gwdb_driver)
)

(test
  (name test)
  (libraries %%%SOSA_PKG%%% dummy_gwdb geneweb geneweb_def_show oUnit stdlib-shims alcotest)
  (preprocess (pps ppx_deriving.show))
  (modules
    test
    date_test
    test_chronology
    place_test
    sosa_test
    test_utils
    test_utils
    test_wiki
    )
)

(test
  (name ports)
  (libraries %%%GWDB_PKG%%% %%%SOSA_PKG%%% geneweb geneweb.ged2gwb_lib geneweb.gwb2ged_lib geneweb.gwexport_lib geneweb.gwu_lib geneweb.gwc_lib)
  (modules ports)
  (deps assets/royal92.ged assets/abc.ged)
)
