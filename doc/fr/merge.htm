<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<head><title>GeneWeb - Fusion de bases de donn&eacute;es</title></head>
<body background="../images/gwback.jpg">
<table border=0 width="100%">
<tr>
<td>
<a href="http://cristal.inria.fr/~ddr/GeneWeb/"><img width=96
height=108 src="../images/gwlogo.gif" align=left border=0 alt=GeneWeb></a>
</td>
<td align=left>
<h1><font color=#2f6400>GeneWeb:<br>Fusion de bases de donn&eacute;es</font></h1>
</td>
</tr>
</table>
</font>
<br><br>

Cette partie vous indique la proc&eacute;dure pour fusionner des bases
de donn&eacute;es. C'est encore assez manuel, mais ce sera
peut-&ecirc;tre am&eacute;lior&eacute; dans le futur.

<p>

Cela ne peut se faire qu'avec des commandes int&eacute;ractives. Si
vous avez l'habitude d'utiliser <b><a
href="gwsetup.htm">gwsetup</a></b>, vous ne pourrez pas le faire, ce
n'est pas pr&eacute;vu.

<p>

La fusion de bases de donn&eacute;es se fait en deux temps:

<p>
<ul><li> Dans un premier temps on fabrique une base regroupant les
deux bases.</ul>

<p><ul><li> Dans un deuxi&egrave;me temps, on fusionne les personnes en
double.</ul>

<hr>
<h3><font color=#2f6400>
Premier temps: concat&eacute;nation des bases </font></h3>

Cela ne peut se faire que dans une fen&ecirc;tre int&eacute;ractive
(voir "Comment <a href="start.htm">d&eacute;marrer</a> avec GeneWeb").

<p><ul><li> Si vous avez une base qui s'appelle "toto" et une autre
qui s'appelle "titi", extrayez ces deux bases sous forme de source
avec la commande "gwu". Tapez:

<pre>
     gwu toto &gt; toto.gw
     gwu titi &gt; titi.gw 
</pre>

</ul>

<p><ul><li> Fabriquez une base commune "tutu". Tapez:

<pre>
     gwc toto.gw titi.gw -o tutu
</pre>

Il se peut (et il est m&ecirc;me probable) que gwc mette des erreurs
parce que des personnes se retrouvent d&eacute;finies deux fois, dans
"toto.gw" et dans "titi.gw". Pour rem&eacute;dier &agrave; cela, gwc a
une option "-sh" pour demander de d&eacute;caler les num&eacute;ros
des personnes et &eacute;viter les conflits. Essayez:

<pre>
     gwc toto.gw -sh 10 titi.gw -o tutu
</pre>

Si la valeur 10 ne r&eacute;sout pas le probl&egrave;me, essayez 20,
30 ou 100...

</ul>

<hr>
<h3><font color=#2f6400>
Deuxi&egrave;me temps: fusion des personnes </font></h3>

Vous disposez maintenant d'une base de donn&eacute;es "tutu" contenant
"toto" et "titi" avec des personnes en double.

<p>

Vous allez pouvoir fusionner ces personnes dans votre navigateur. Si
"gwd" n'est pas lanc&eacute;, lancez-le.

<p>

Appliquez alors la <a href="update.htm#MrgP">fusion de personnes</a>,
qui se trouve dans la partie "Comment faire des modifications dans la
base de données" (ignorez le commentaire disant qu'il ne s'agit pas de
fusions de bases de donn&eacute;es).

<hr>
<h3><font color=#2f6400>
Nettoyage final </font></h3>

&Agrave; la fin de la fusion, il est bon de faire un nettoyage final
de la base. En effet, quand on supprime des personnes ou des familles
(ce qui se passe quand on fait des fusions), la place des personnes et
familles supprim&eacute;es n'est pas r&eacute;cup&eacute;r&eacute;e.
En particulier, la page d'accueil indique toujours le m&ecirc;me
nombre de personnes de d&eacute;part.

<p>

Pour faire le nettoyage de la base "tutu" (que vous pouvez faire
&agrave; n'importe quel moment, et plusieurs fois), reprenez une
fen&ecirc;tre int&eacute;ractive, et tapez:

<pre>
     gwu tutu &gt; tutu.gw
     gwc tutu.gw -o tutu
</pre>

<p>

Notez que si vous voulez &eacute;craser l'ancienne base "toto", mettez
simplement "-o toto -f" dans cette deuxi&egrave;me commande:

<pre>
     gwc tutu.gw -o toto -f
</pre>

<p>
<hr>
<br>
<center>Retour vers <a href="diruse.htm">Mode d'Emploi</a></center>

<p><hr><font size=-1><em>&copy; Copyright INRIA 2000 -
GeneWeb</em></font><br>


</body>
