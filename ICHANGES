Internal, very small, undocumented, or not visible changes
**********************************************************

GeneWeb Version 3.03
--------------------

* GeneWeb daemon/CGI (gwd)
  - [09 Feb 00] Added link to welcome in anniversaries pages.
  - [02 Feb 00] Fixed little problem in anniversaries: when other
    calendars than Gregorian (e.g. Julian), could select "anniversary"
    even for persons having only the year in their date (fixed by testing
    the field "delta" in the date record).
  - [01 Feb 00] Added indentation in forum to make it more readable.
  - [25 Jan 00] Display the number of persons in some more pages. Dont
    display it when number <= 1.
  - [25 Jan 00] Changed the limit for public persons to 150 years instead
    of 100 years: persons must have been born and dead before 150 years
    to be public.
  - [21 Jan 00] When searching for somebody, if several persons have
    this name, display name of spouses for men also.
  - [20 Jan 00] Fixed omission in 'advanced.txt': I forgot to change
    the [not dead] into [alive].
  - [19 Jan 00] In traces, display dates in standard, i.e. using -
    instead of / in year-month-day.

* Gedcom to GeneWeb (ged2gwb)
  - [19 Feb 00] The option "-ds" applies now to families too.

* Lexicon (lang/lexicon.txt) and welcome pages (lang/*/start.txt)
  - [21 Jan 00] Changed "anniversaries of dead" into "annivesaries of death"
  - [13 Jan 00] Changed "living" into "alive"

GeneWeb Version 3.02
--------------------

* GeneWeb daemon/CGI (gwd)
  - [Jan 15, 00] Big acceleration of some dags displays by setting a
    smaller threshold (10 instead of 15) in relationLink.ml
  - [Jan 14, 00] No more hypertext link for spouses and all relations in
    relationlink computing page.
  - [Jan 11, 00] Put a separation (<td>&nbsp;</td>) between the two branches
    in simple relationship displaying.
  - [Jan 9, 00] Centered title "genealogical data base".
  - [Jan 9, 00] Added the ability to add ";td=bgcolor=xxx" in URL when
    printing a dag. Color the square of the person.
  - [Jan 5, 00] Added the ability to add ";bd=n" (n >= 1) in URL when
    printing a dag. Put a square around each person of the tree.
  - [Dec 14, 99] No more compatibility with old relationship request form e=...
  - [Dec 14, 99] Changed things so that adding ";em=R;ep=fn;en=sn" in
    the URL generates relationship computing with "fn sn" in welcome page
    and in notes (already worked for many other page kinds).

* Lexicon
  - [Jan 14, 00] Deleted entry "his wife/her husband": use now "husband/wife"
    in all cases.

GeneWeb Version 3.01
--------------------

* GeneWeb daemon/CGI (gwd)
  - [Dec 2, 99] Added a system of "areas" in data bases protected by
    a password, based on the name of the ".gw" files => works only
    for data bases created with "gwc".
  - [Nov 23, 99] Fixed problem of selecting a first name: sometimes it
    did not work. Used "Name.lower" instead of "Name.strip_lower" for the
    list for a future selection.
  - [Nov 19, 99] Fixed bug: redirected service and renamed service messages
    did not work in cgi mode
  - [Nov 13, 99] Added some checks of access tables out of bounds
  - [Nov 13, 99] Added link to welcome page in case of not found
  - [Nov 9, 99] Chop suffix ".gwb" if the base name has it in URL
  - [Nov 6, 99] The URL for the "up" image now independent from the data base
  - [Nov 5, 99] Red display title for not found persons.
  - [Nov 5, 99] Lengthened the height of the data base notes area.

* GeneWeb compiler (gwc) and uncompiler (gwu) 
  - [Nov 9, 99] Fixed problem for titles holding the character colon. The
    gwc raised syntax error.

* Gedcom to GeneWeb (ged2gwb)
  - [Nov 8, 99] Fixed little problem with TITL field: could sometimes create
    bad titles names without label an place for gedcoms not coming from
    GeneWeb

* Lexicon
  - [Nov 23, 99] Added entry "maximum". Deleted entry "max %d generations".
    Changed entry "generation" into "generation/generations".

GeneWeb Version 3.00
--------------------

* GeneWeb daemon/CGI (gwd)
  - [Nov 1, 99] Print relations only for friends and wizards.
  - [Oct 31, 99] Added macro %k for images in order to have the same request
    for any data base in any language. And several changes to make the DOC
    request independant from the data base.
  - [Oct 25, 99] Modified the treatment of nth (overflowing after 100)
    to display the number itself (better than just "n-th").
  - [Oct 25, 99] Commented the loading of the whole persons and families
    arrays in "descend.ml": supposed to make things go faster but consumming
    13M in my data base when clicking on "descendants" for anybody.
  - [Oct 15, 99] Added a check of month day in gregorian dates.
  - [Oct 9, 99] Added a "suicide" request: if exists in the request,
    the sender go the the robot black list... by setting a hidden URL with
    that in pages, I can detect them... ha ha ha.
  - [Oct 9, 99] Fixed bug in "family.ml": for the page "specify" the
    normal chronological order sometimes did not work correctly.
  - [Oct 6, 99] When displaying ascend tree in Lynx, changed disposition
    so that it is displayed in decreasing order of Sosa number.

* Consanguinity computing (consang)
  - [Oct 6, 99] Improved it to save memory.

GeneWeb Version 2.07
--------------------

* Gwsetup program
  - [Sep 25, 99] While saving a ".gwf" file, add the variables not treated
    in the form, but present in the file.

* GeneWeb daemon/CGI (gwd)
  - [Sep 30, 99] When modifying a person, does not keep the notes when
    his first name or surname hold a "?" since it cannot not saved in
    GeneWeb source files.
  - [Sep 29, 99] Errorred when clicking on surnames by alphabetic order
    on empty data bases. Fixed.
  - [Sep 28, 99] Forgot sharp (#) as possible character in URLs. Fixed.
  - [Sep 26, 99] Fixed bug of ordering persons by dates in "specify" page.

GeneWeb Version 2.06
--------------------

* General
  - [Aug 31, 99] Changed internal representation of data bases to add
    "notes origin file" and "sources" for global notes.
  - [Aug 16, 99] Now "make" does "make opt". To run the older "make"
    do "make out". The installation tells to run "make" (i.e. "make opt").
    The previous installation version told to run "make" and "make opt"
    but it is unuseful to run both.

* Setup program and GeneWeb daemon
  - [Aug 16, 99] In distribution (make distrib), creates "setup" and "gwd"
    as shell script wrappers under Unix and .bat files wrappers under Windows.
    Added the executable "setup" in "gw" directory as name "gwsetup".

* GeneWeb daemon/CGI (gwd)
  - [Aug 30, 99] To make the new option "-no_pit" of ged2gwb, had to change
    the policy of private/public/iftitles.
  - [Aug 21, 99] Added request mode "TREE" to display general tree; no
    interface for it for the moment...
  - [Aug 17, 99] If option "-auth" used, print the password area like in
    cgi mode (i.e. an input area instead of hypertexts triggering a window
    for password), because the auth password and the wizard/friend password
    are contradictory.
  - [Aug 17, 99] In display by first name or surname, when several spellings
    are found, display them in decreasing frequence order.
  - [Aug 14, 99] In srcfile.ml, for start.txt files, added "o" macro
    (print if notes) and ability to decline verb + noun ([verb][noun]
    without space between 1st ] and snd [).
  - [Aug 8, 99] Improved -robot_xcl option (to exclude impolite robots).
  - [Aug 7, 99] Fixed bad behavior: in welcome pages, proposed "wizard" to
    to wizards when the flag "wizard_just_friend" was set.

* GeneWeb to Gedcom (gwb2ged)
  - [Aug 31, 99] For adoptive parents, does not generate a CHIL field any
    more in adoptive parents family.

GeneWeb Version 2.05
--------------------

* General
  - [Jul 22, 99] Added functions p_first_name and p_surname to prepare
    installation of declined forms for names. Hope it works one day (not
    sure...)
  - [Jul 15, 99] Changed internal reprentation of strings in data bases:
    no more use of ansel encoding, returning back to version 1.06. Should
    not change anything to normal users. This was done because of too
    many drawbacks (many displaying bugs, code more complicated) against
    too few advantages (displaying supposed to be correct when mixing
    various encodings). Anyway, code is smaller.

* GeneWeb daemon/CGI (gwd)
  - [Aug 6, 99] Dates in traces are now yyyy/mm/dd instead of dd/mm/yyyy
  - [Aug 5, 99] Restored the system of robot exclusion (had been deleted
    in version 1.10).
  - [Aug 3, 99] Increased speed of clicking on "ancestors" by pre-loading the
    arrays "ascends" and "couples". [Aug 5, 99] Idem with "descendants" by
    pre-loading "persons" and "families".
  - [Aug 3, 99] In ancestors and descendants pages moved the "Ok" near the
    selection popup menu.
  - [Jul 28, 99] In update family forms, shortened the names of the variables
    "first_name" and "surname" into "fn" and "sn".
  - [Jul 23, 99] Check translated formats (phrases holding %'s) displaying
    the initial format if failed (instead of scratching).
  - [Jul 9, 99] Changed request syntax for cousins: "v1=#" instead of "v=#"
    and ability to ask for "v1=#;v2=#" for uncles and nephews...
  - [Jul 2..Aug 2, 99] Added "access_by_key" in "base.gwf" files to generate
    accesses by keys instead of index in the person array (which can change
    when recompiling the base), allowing to update the data base without
    disturbing the users accessing it.

* GeneWeb compiler (gwc)
  - [Jul 20, 99] Translated into English some variables and functions whose
    names where in French or in mixed French-English.

GeneWeb Version 2.04
--------------------

* Installation
  - [Jun 30, 99] Added "README.txt" (English) and "ALIRE.txt" (French) in
    distribution just to say that you have to launch the program "setup".

GeneWeb Version 2.03
--------------------

* New
  - [May 30, 99] Added program "fpla": first parentless ancestors. Given
    a data base, displays the Sosa number of the first ancestor without
    parent. Sorted by Sosa numbers: the first displayed person is therefore
    the person whose ancestors list is the most complete.

* Setup program
  - [May 12, 99] Added "charset=iso-8859-1" in headers (undefined, before).
  - [May 11, 99] Give up the second command of base recovery when the first
    one returns an error code.

* GeneWeb daemon/CGI (gwd)
  - [Jun 2, 99] Deleted the "&nbsp;" added between "on" (or any preposition
    before a date) and a date. Reasons: 1/ it was not absolutely necessary,
    2/ there was a problem with the empty Swedish translation of "on (year)"
    the translation of "dead on 1953" was "död &nbsp;1953" resulting on the
    displaying of two spaces.
  - [May 23, 99] Deleted supposed unuseful code, particularly in MergeIndOk,
    to make code cleaner, hopefully not introducing bugs.
  - [May 23, 99] Added renitialization of field "consang" when modifying
    families to prepare new version of program "consang" (minimalist).
  - [May 18, 99] Added thousand separator for displaying of number of persons
    in the welcome page.

* GeneWeb uncompiler (gwu)
  - [May 28, 99] Fixed missing newlines when the initial sources came from
    several files and the option -odir was not used.

* Compilation
  - [May 23, 99] Separed consang computation in another file "consangAll.ml".
  - [May 12,99] Fixed YAAP (yet another accent problem...)
  - [May 8, 99] Added "make opt" case in "setup" to build optimized versions.

GeneWeb Version 2.02
--------------------

* GeneWeb daemon/CGI (gwd)
  - [May 4, 99] If default_lang of some base (file "base.gwf") is empty
    set it to default_lang of command "gwd" (was set before only when
    default_lang was not defined). Changed for the "setup" program.
  - [May 2, 99] Fixed small uncomfortable feature: when a new couple was
    added with new (created) persons, then modified to add existing
    children, the field "origin_file" was not updated for the family.
    The result is when using "gwu -odir" this new family was displayed
    on standard output instead of saved in the origin file of a child.
  - [May 1, 99] Fixed behavior in updating persons form for burial.
  - [Apr 28, 99] Fixed fragile part of code that reads the lexicon. Raised
    'Invalid_argument "String.sub"' if the lexicon held lines interpreted
    as keys but of string length < 4. The lexicon should not, but if it
    is corrupted for some reason, this was not a good error message!
  - [Apr 28, 99] Added the ability to add a file named "refuse.txt" to
    explain reasons of gwd exclusion.
  - [Apr 24, 99] Dont print "+" in short dates for died person if there is
    no death date and if the person is older than 120 years, as it was
    done in 2.01 for long dates displaying.

* GeneWeb compiler (gwc)
  GeneWeb uncompiler (gwu)
  Consanguinity computing (consang)
  GeneWeb to Gedcom (gwb2ged)
  - [May 2, 99] Changed return code in case of errors found. Now 2. Error
    messages on stdout instead of stderr. Had to be changed for the new
    "setup" program.

GeneWeb Version 2.01
--------------------

* General
  - [Mar 31..Apr 5, 99] Changed some types, labels, constructors, functions
    names, cleaned up some code.

* GeneWeb daemon/CGI (gwd)
  - [Apr 20, 99] Changed title text "nth generation" into "Generation n"
    because of necessity in Swedish to add another translation.
  - [Apr 19, 99] Added "value=on" in checkboxes generated HTML code. Seemed
    to be the default in several browsers (Netscape, IE, Lynx) but not all of
    them (Kfm).
  - [Apr 15, 99] Changed link of "gwd.opt", separating the objects in two
    parts, using cmxa files, because Windows 98 (or maybe Cygnus) does not
    work with this too long line, I don't know why. No difference in Unix.
  - [Apr 6, 99] Big cleanup about titles (hopefully not introducing bugs).
  - [Apr 3, 99] Dont print "died" in personal page if this is the only
    information (no date, no place) and if it is older than 120 years.
  - [Mar 22, 99] Ability to put "*" (to match any characters) in lines in
    exclude file.
  - [Mar 20, 99] When merging families, does not print any more the
    intermediate page when there is no differences to select.
  - [Mar 16, 99] Deleted display of trailing space in some links like in
    "Modify" in page "update" for example.
  - [Mar 14, 99] Cleaned up some generated HTML code.
  - [Mar 10, 99] Inlined "List.remove_assoc" in order to be compilable
    by Ocaml and Camlp4 2.01 as well.

* Welcome pages (hd/lang/xx/start.txt)
  - [Mar 20, 99] Changed order of links for displayed anniversaries and
    latest births and deaths.

* Lexicon (hd/lang/lexicon.txt)
  - [Mar 22, 99] Changed "allied%t (euphemism for married or... not) to"
    into "allied%d to". Changed French translation "allie" into "marie".

* Wserver (../wserver/wserver.ml)
  - [Mar 22, 99] Completed "special" list of characters that must be
    encoded (according to Jean-Christophe Filliatre).

GeneWeb Version 2.00
--------------------

* GeneWeb daemon/CGI (gwd)
  - [Mar 8, 99] Fixed bug for excluded addresses in cgi mode.
  - [Mar 4, 99] Deleted all "open Unix" and use of "Unix." for all unix
    function. Deleted "Pervasives.".
  - [Feb 27, 99] No more newline before the ending dot of the titles
    displaying in personal pages.
  - [Feb 18. 99] Added (undocumented) feature: adding ";opt=spouse" to an
    URL of relationship link (m=RL), the spouses are displayed.

* Doc
  - [Feb 23, 99] Correct HTML for creation of LICENSE.htm in directory doc.

GeneWeb Version 1.11
--------------------

* GeneWeb daemon/CGI (gwd)
  - [Jan 29, 99] Print clear messages when missing files (lexicon.txt, etc.)
  - [Jan 12, 99] Changed test in input_lexicon (gwd.ml): length of line < 4
    instead of line = "": better test to avoid failures when bad lexicon
    files.

* Gedcom to GeneWeb (ged2gwb)
  - [Jan 16, 99] Ignore abnormal errors (displaying "uncaught exception:
    Stream.Failure").

* GeneWeb compiler (gwc)
  - [Jan 23, 99] Forgot to skip tabulations while reading lines in ".gw" files
  - [Jan 12, 99] Failure error now displayed in stdout instead of stderr.

* Most descendants computation (mostdesc)
  - [Jan 25, 99] Fixed little problem of alphabetic order.
  - [Jan 16, 99] Added mostdesc.opt in Makefile.

GeneWeb Version 1.10
--------------------

* GeneWeb daemon/CGI (gwd)
  - [06/01/99] Added %y and %z as macros in srcfile.ml
  - [16/12/98] Translated some program record fields and constructors in
    english.
  - [16/12/98] Separated "base" into "base_data" and "base_func" to prepare
    code cleanup.
  - [15/12/98] Added forgotten i18n translation of "liens de parenté" (title)
    and added "head_no_page_title" in util's interface.
  - [14/12/98] Improved speed in families update: check_noloop made too
    many accesses to the base (unnecessary accesses to "persons").
  - [13/12/98] In src/num.ml, display at least "0" when number is 0!
  - [12/12/98] Fixed horrible programming of base patches applying, which
    resulted in much memory allocation and time loosing for bases having many
    added "things" (persons, families, strings). Now the code is cleaner.
    Consequence: saved speed and memory allocation in such bases in gwd,
    gwu, gwb2ged.
  - [11/12/98] Fixed bugs: newlines at end of fields displayed as newlines
    by "gwu", resulting of future syntax errors in "gwc"

* GeneWeb uncompiler (gwu)
  - [11/12/98..12/12/98] Improved program (diminution of number of accesses
    to the base) to allow option "-mem"

* Most descendants (mostdesc.out)
  - [29/12/98] Sort persons with same number of time by alphabetic order.

* tools/camlp4_depend.sh
  - [13/12/98] Deleted "./" in depended file name, because that worked bad
    in alpha.

GeneWeb Version 1.09
--------------------

* gwc:
  - Added lazy building of topological sort file inside bases (accelerate
    Sosa number computing in personal pages and relationship links).
  - Send error and warning messages on stdout, instead of stderr.
  - Delete non printable characters (e.g. newlines) in strings (first names,
    etc.) coming from forms.
  - Fixed some displaying and behavior bugs when adding elements in merging
    forms.
  - Fixed some displayed "value=" when the value hold the " character
  - Some parts of relationship computing use big nums (module Num). Still
    incomplete.
  - Change in request syntax "relation... with..." to allow
    explicit first names and surnames instead of i=.
    Ex:
     old syntax (still there for compatibility during some versions)
       base?e=m%3DR%3Bi%3D31440&m=NG&n=somebody&t=PN
     new syntax:
       base?em=R;ei=31440&m=NG&n=somebody&t=PN
     and ability to write in a direct link:
       base?em=R;ep=jack;en=nicholson;eoc=3&m=NG&n=somebody&t=PN
     to be somewhat independant from the index of "jack nicholson" in
     the base.
  - Hidden options in requests:
       ";opt=from" in personal pages, gives the .gw origin file (if any)
       ";opt=misc" in personal pages, gives the list of miscellaneous names
  - More complete traces in CGI mode

* ged2gwb:
  - Display message "Strange input" giving the line number instead of character
    number.

* added tools/camlp4_depend.sh to compute dependencies with camlp4 .cmo files
  in src directory.

* added program "mostdesc" (not distributed in executable versions) computing
  the "most descendants from someone".

* changed "pauillac" into "cristal" in addresses.

GeneWeb Version 1.08
--------------------

* gwc:
  - Changed HTML generated by "last 10 births".
  - strip possible newlines in sources and comments while updating or
    creating families
  - small change in warning message telling that children has been reordered:
    "before" persons are no more clickable
  - forgot to reset some fields when a person is deleted

GeneWeb Version 1.07
--------------------

* Documented structure of bases (file iobase.ml).
* ANSEL encoding in base

* gwc:
   - Fixed bug: hash table now with "crush_lower" names, not "strip_lower"
     because error while compiling base with names "Marie d'Orange" and
     "Marie Dorange", different in "gwd" but equal (beforewards) in "gwc".
   - Fixed bug: while decoding strings fields, forgot to skip the possible
     space (underscored).
   - A file "command.txt" is created into the base, showing the command
     line used like for the command "ged2gwb".

* gwd:
  - Don't display person number any more in update form when holding ? in
    his/her surname or first name
  - Fixed bug: when updating person, checks were done before patch.
  - Strip spaces of first names and surnames in forms.

* consang:
  - fixed bug: raised error for empty databases

* ged2gwb
  - not error if no space after initial number

GeneWeb Version 1.06
--------------------

* Restructuration (perestroika) for distribution of sources.

* Some changes for compilation with version 2.00 of Ocaml and Camlp4.

* gwd:
  - added cannot change sex of married person while updating person,
    this check was missing
  - changed Name.crush to separate case "roman numbers" and "i" is now
    treated as other vowels
  - changed "(%d fois)" into "(%d)" in "descendants, only the selected
    generation".
  - updateInd.ml: display number = index for first name or surname = "?"

* gwu:
  - fixed bug of behavior: created files even if not option -odir

* lexicon.txt:
  - integrated Lars' updates for swedish version... in fact integrated in
    "intermediate" version 1.05.

GeneWeb Version 1.05
--------------------

* gwc:
  - added "wrap=virtual" in notes updating.
  - added 1 generation in missing ancestors (because if a level complete =>
    nothing printed!)
  - fixed "Chantal.1 N..." did not work because of searching . from the right
  - generated images have now "content-length" (necessary for Netscape 2)
  - srcfile.ml: accept now [] in txt files => translation!
  - p.birth is now of type Adef.codate
  - suppressed nobr in descend.ml
  - suppressed <ul></ul> with no <li> in descend.ml
  - fixed bug: when creating or modifying someone, the test of existing was
    firstname1 ^ surname1 = firstname2 ^ surname2 instead of
    firstname1 = firstname2 && surname1 = surname2
  - Soza -> Sosa

GeneWeb Version 1.04
--------------------

* gwc:
  - added magic number in gwo files.
  - in case of option error, does not display usage, just invitation to
    use the -help option

* gwd:
  - fixed bug in relation: if same person, was not detected.
  - using new pa_html.cmo
  - added option "-nolock" not to create lock files; drawback: risk of
    scratching counter (not grave), or the database, if two users attempt
    to modify it at the same time; this option were only in Unix version,
    it is now added in Windows version too.
  - in research by names, "s" ending words are ignored
  - when refusing a log (fucking robots!), return status 403 and a small
    message; logs in "refuse_log".
  - added option -robot_xcl to test fast attacks.
  - fixed bug descend "only the generation concerned": persons descending
    several time were not factorized.

* gwd, consang:
  - in Windows NT/95, locking files never blocks: the action is just
    refused =>
    * when updating the base, if the base cannot be locked, the update is
      rejected.
    * when applying "consang", if the base cannot be locked, "consang" is
      rejected.
    * if the counter file cannot be locked, the counter is just not updated.

* gwc, gwu:
  - added "csrc" to factorize "#src" when all children have the same

GeneWeb Version 1.03
--------------------

* gwd:
  - ascend.ml & relation.ml: print upto faster thanks to maxlen added (l=...)
  - capitalization of all letters with accents is now ok
  - added "gwd.xcl" to exclude connexions

* Makefiles:
  - add and use of tools/camlp4_comm.sh

GeneWeb Version 1.02
--------------------

* gwd
  - lower threshold for optimized relationship link from 25 to 15.

* gwc
  - in photos => recode underscores (transformed into spaces!).
  - Can now wait for 4 clients in the queue (listen 4).

GeneWeb Version 1.01
--------------------

* gwd
  - saw that sometimes "accept" fails for other reasons than timeout => no
    more message now in the trace.

GeneWeb Version 1.0
-------------------

GeneWeb Version 1.0 beta.10
---------------------------

GeneWeb Version 1.0 beta.9
--------------------------

* gwd
  - added possible sleep in env to test memory consummation
  - changed algorithm of last n births: was o(n^2), now o(n*log n)

GeneWeb Version 1.0 beta.8
--------------------------

* gwd
  - fixed problem of Maertens: "Cannot access to start.txt", although
    it was a problem of accessing "copyright.txt"
  - "%f" in language files (used in version.txt) do not generate just
    "command", but "command?" if not cgi and "command?b=base;" if cgi

GeneWeb Version 1.0 beta.7
--------------------------

- changed big num (e.g. for Soza numbers) => no limit
- HTTP protocol: always return status 202 OK, even on errors
- lang/lexicon.txt: nth generation go up to 125 (fr)
- ged2gwb: if surname or first name of someone = "?", may transform it
  into "x" (to preserve consistency between gwb2gw and gwc)
- fixed problem of alphabetic order in displaying by titles
- trailer always included even in source files, which must not yet hold
  </body> at their end.
- copyright added at end if file "copyright.txt" not accessible but
  without link to my site.
- file "copyright.txt" changed into "copyr.txt" (I am afraid of problems
  of long file names in Windows).
- fixed bug: problems of <em> and </a> in displaying "ancestors .. up to .."
