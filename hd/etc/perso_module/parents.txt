<!-- $Id: perso_module/parents.txt v 7.00 20/11/2016 06:10:01 hg -->
%( op_m=1 simple: name %)
%( op_m=2 evolved: name, occupation %)
%( op_m=3 photos: evolved with photo in 2 cols %)
%( op_m=4 complete: name, birth, death, occupation, marriages %)
%( op_m=5 photos: complete with photo in 2 centered cols %)
%let;op_m;%if;(op_m!="")%op_m;%else;1%end;%in;
%let;op_ph;%if;has_parents;
             %if;(father.has_image or mother.has_image)1%else;0%end;
           %else;nn;
                  0%nn;
           %end;%nn;
%in;
%if;((op_m=1 or op_m=2 or op_m=4 or (op_m=5 and op_ph=0)) and has_parents)
  <h3 class="highlight">[*parents]</h3>
  <ul>
  %apply;li_SD("father")
  %if;(op_m=1 or op_m=2)
    %apply;short_display_person("father")%nn;
    %if;(op_m=2 and father.has_occupation), %father.occupation;%nl;%end;
  %elseif(op_m=4)
    %apply;long_display_person("father")%sp;
  %elseif;(op_m=5)
    %apply;display_horizontal("father")
  %end;
  %if;(op_m=4 or op_m=5)
    <br%/>
    %foreach;father.family;
      %if;(op_m=4 and spouse.access=mother.access)
        <em>%apply;long_married("father")</em>
      %end;
      %if;(op_m=5 and spouse.access=mother.access)<em style="font-size: 90%%">%nn;
        %apply;long_married_f("father", "UPPER")</em>
      %end;
    %end;
  %end;
  </li>
  %apply;li_SD("mother")
  %if;(op_m=1 or op_m=2)
    %apply;short_display_person("mother")%nn;
    %if;(op_m=2 and mother.has_occupation), %mother.occupation;%nl;%end;
  %end;
  %if;(op_m=4 or op_m=5)
    %if;(op_m=4)
      %apply;long_display_person("mother")%sp;
    %elseif;(op_m=5)
      %apply;image_MF("mother","13")
      %apply;display_horizontal("mother")
    %end;
    %foreach;father.family;
      %if;(spouse.access=mother.access)
        %if(are_divorced or are_separated)
          <br%/>
          <em style="font-size: 90%%">%nn;
            %if;are_divorced;[divorced]0%divorce_date;%end;
            %if;are_separated;[separated]0%end;
          </em>
        %end;
      %end;
    %end;
    %if;(op_m=5)
      </li>
    %end;
  %end;
  </li>
  </ul>
%elseif;(op_m=5 and op_ph=1 and has_parents)
  <div id="parents" style="text-align: center">
  <table style="border-width:%border;">
    <tr>
      <td style="text-align: %right;;vertical-align: middle">
        %if;father.has_image;
          <a href="%father.image_html_url;"><img %father.image_medium_size;%sp;
             src="%father.image_url;" style="border: none" alt="" title="[image/images]0"%/></a>
        %else;&nbsp;
        %end;
      </td>
      <td style="text-align: center;vertical-align: top">
        <h3 class="highlight">[*parents]</h3>
        %if;(has_birth_date and (father.has_birth_date or mother.has_birth_date))
          <table style="border-width:%border;">
            <tr>
              <td colspan="3" style="text-align: center">%apply;age_at_birth_of(central_person)</td>
            </tr>
            <tr>
              <td style="text-align: %right;width:50%%">%nn;
                %if;father.has_birth_date;%father_age_at_birth;&nbsp;%else;&nbsp;%end;</td>
              <td style="text-align: center">|</td>
              <td style="text-align: %left;;width:50%%">%nn;
                %if;mother.has_birth_date;&nbsp;%mother_age_at_birth;%else;&nbsp;%end;</td>
            </tr>
          </table>
        %end;
      </td>
      <td style="text-align: %left;;vertical-align: middle">
        %if;mother.has_image;
          <a href="%mother.image_html_url;"><img %mother.image_medium_size;%sp;
             src="%mother.image_url;" style="border: none" alt="" title="[image/images]0"%/></a>
        %else;&nbsp;%end;
      </td>
    </tr>
    <tr>
      <td style="text-align: %left;;vertical-align: top">
        %apply;display_vertical("father")
      </td>
      <td>
        %foreach;father.family;
          %if;(spouse.access=mother.access)
            %apply;long_married_f("father", "UPPER")
            %if;are_divorced;<br%/>[divorced]0%divorce_date;%end;
            %if;are_separated;<br%/>[separated]0%end;
          %end;
        %end;
      </td>
      <td style="text-align: %left;;vertical-align: top">
        %apply;display_vertical("mother")
      </td>
    </tr>
  </table>
  </div>

  <!-- Parents photo -->

%elseif;(op_m=3 and has_parents)
  <h3 class="highlight">[*parents]</h3>
  <table>
    <tr>
      <td style="width:50%%">
        <table>
          <tr>
            <td style="text-align:left; vertical-align: middle">
              %if;father.has_image;
                <img %father.image_small_size;%sp;src="%father.image_url;" style="border: none" alt="[image/images]0"%/>
              %else;&nbsp;
              %end;
            </td>
            <td style="text-align:left; vertical-align: middle">
              <ul>
                %apply;li_SD("father")
                  %apply;short_display_person("father")%sp;
                </li>
                %if;father.has_occupation;
                  <li>%apply;capitalize(father.occupation)</li>%nl;
                %end;
              </ul>
            </td>
          </tr>
        </table>
      </td>
      <td style="width:50%%">
        <table>
          <tr>
            <td style="text-align:left; vertical-align: middle">
              %if;mother.has_image;
                <img %mother.image_small_size;%sp;src="%mother.image_url;" style="border: none" alt="[image/images]0"%/>
              %else;&nbsp;
              %end;
            </td>
            <td style="text-align:left; vertical-align: middle">
              <ul>
                %apply;li_SD("mother")
                  %apply;short_display_person("mother")%sp;
                </li>
                %if;mother.has_occupation;
                  <li>%apply;capitalize(mother.occupation)</li>%nl;
                %end;
              </ul>
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
%end;
