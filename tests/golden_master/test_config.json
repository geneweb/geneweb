{
  "test_config": {
    "description": "Configuration générique pour tests Golden Master - Comparaison de deux exécutables",
    "version": "1.0.0",
    "executables": {
      "reference": {
        "path": "../../distribution/gw/ged2gwb",
        "type": "binary",
        "description": "Version de référence (ancienne)"
      },
      "candidate": {
        "path": "../../python/ged2gwb/ged2gwb_cli.py",
        "type": "script",
        "interpreter": "python3",
        "description": "Version candidate (nouvelle)"
      }
    },
    "paths": {
      "test_data_dir": "test_data",
      "output_dir": "outputs", 
      "golden_dir": "golden",
      "work_dir": "work"
    },
    "environment": {
      "timeout_seconds": 30,
      "encoding": "utf-8",
      "env_vars": {}
    },
    "comparison": {
      "ignore_patterns": [
        "^# Generated on .*",
        "^# Creation time: .*",
        "^# Timestamp: .*"
      ],
      "normalize_whitespace": true,
      "normalize_line_endings": true,
      "ignore_empty_lines": true,
      "case_sensitive": true
    },
    "output_capture": {
      "stdout": true,
      "stderr": true,
      "files": true,
      "return_code": true
    }
  },
  "test_cases": [
    {
      "name": "basic_conversion",
      "description": "Conversion basique sans options",
      "input_files": ["sample.ged"],
      "args": [],
      "expected_output_files": ["*.gw", "*.gwb"],
      "working_dir": "basic_test"
    },
    {
      "name": "lowercase_firstnames", 
      "description": "Test option -lf",
      "input_files": ["sample.ged"],
      "args": ["-lf"],
      "expected_output_files": ["*.gw"],
      "working_dir": "lf_test"
    },
    {
      "name": "uppercase_surnames",
      "description": "Test option -us", 
      "input_files": ["sample.ged"],
      "args": ["-us"],
      "expected_output_files": ["*.gw"],
      "working_dir": "us_test"
    },
    {
      "name": "custom_output",
      "description": "Test avec nom de sortie personnalisé",
      "input_files": ["sample.ged"],
      "args": ["-o", "custom_name"],
      "expected_output_files": ["custom_name.gw"],
      "working_dir": "custom_test"
    },
    {
      "name": "multiple_flags",
      "description": "Test avec plusieurs options",
      "input_files": ["sample.ged"], 
      "args": ["-lf", "-us", "-o", "multi_test"],
      "expected_output_files": ["multi_test.gw"],
      "working_dir": "multi_test",
      "capture_stdout": true
    },
    {
      "name": "trackid_output",
      "description": "Test trackid avec capture stdout",
      "input_files": ["sample.ged"],
      "args": ["-trackid"],
      "expected_output_files": ["*.gw"],
      "working_dir": "trackid_test",
      "capture_stdout": true,
      "capture_stderr": true
    },
    {
      "name": "dates_dm_format",
      "description": "Test format dates jour/mois",
      "input_files": ["dates_sample.ged"],
      "args": ["-dates_dm"],
      "expected_output_files": ["*.gw"],
      "working_dir": "dates_dm_test"
    },
    {
      "name": "force_overwrite",
      "description": "Test option force avec fichier existant",
      "input_files": ["sample.ged"],
      "args": ["-f", "-o", "force_test"],
      "expected_output_files": ["force_test.gw"],
      "working_dir": "force_test",
      "setup_commands": [
        "touch force_test.gw"
      ]
    }
  ]
}