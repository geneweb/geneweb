<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Secure (geneweb.Secure)</title><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">geneweb</a> &#x00BB; Secure</nav><header class="odoc-preamble"><h1>Module <code><span>Secure</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-assets"><a href="#val-assets" class="anchor"></a><code><span><span class="keyword">val</span> assets : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p>Returns list of allowed to acces assets</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-base_dir"><a href="#val-base_dir" class="anchor"></a><code><span><span class="keyword">val</span> base_dir : <span>unit <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Returns directory where databases are installed to which acces is allowed</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_assets"><a href="#val-add_assets" class="anchor"></a><code><span><span class="keyword">val</span> add_assets : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Add new asset to the <code>assets</code> list</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-set_base_dir"><a href="#val-set_base_dir" class="anchor"></a><code><span><span class="keyword">val</span> set_base_dir : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Set base directory</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-check"><a href="#val-check" class="anchor"></a><code><span><span class="keyword">val</span> check : <span>string <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Check if a filename is safe to read:</p><ul><li>it must not contain the '\000' character</li><li>it must either be relative to the local directory OR included in one of the allowed directories (base_dir or assets)</li><li>the relative part does not contain the '..' directory</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-open_in"><a href="#val-open_in" class="anchor"></a><code><span><span class="keyword">val</span> open_in : <span>string <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Stdlib</span>.in_channel</span></code></div><div class="spec-doc"><p>Secured version of <code>open_in</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-open_in_bin"><a href="#val-open_in_bin" class="anchor"></a><code><span><span class="keyword">val</span> open_in_bin : <span>string <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Stdlib</span>.in_channel</span></code></div><div class="spec-doc"><p>Secured version of <code>open_in_bin</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-open_out"><a href="#val-open_out" class="anchor"></a><code><span><span class="keyword">val</span> open_out : <span>string <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Stdlib</span>.out_channel</span></code></div><div class="spec-doc"><p>Secured version of <code>open_out</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-open_out_bin"><a href="#val-open_out_bin" class="anchor"></a><code><span><span class="keyword">val</span> open_out_bin : <span>string <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Stdlib</span>.out_channel</span></code></div><div class="spec-doc"><p>Secured version of <code>open_out_bin</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-open_out_gen"><a href="#val-open_out_gen" class="anchor"></a><code><span><span class="keyword">val</span> open_out_gen : <span><span><span class="xref-unresolved">Stdlib</span>.open_flag list</span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Stdlib</span>.out_channel</span></code></div><div class="spec-doc"><p>Secured version of <code>open_out_gen</code></p></div></div></div></body></html>