<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Gwdb (geneweb.Gwdb)</title><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.3.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">geneweb</a> &#x00BB; Gwdb</nav><header class="odoc-preamble"><h1>Module <code><span>Gwdb</span></code></h1></header><div class="odoc-content"><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <span class="keyword">struct</span> <span class="keyword">include</span> <a href="../Gwdb_driver/index.html">Gwdb_driver</a> <span class="keyword">end</span></span></code></summary><div class="odoc-spec"><div class="spec type anchored" id="type-istr"><a href="#type-istr" class="anchor"></a><code><span><span class="keyword">type</span> istr</span><span> = <a href="../Gwdb_driver/index.html#type-istr">Gwdb_driver.istr</a></span></code></div><div class="spec-doc"><p>String id</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-ifam"><a href="#type-ifam" class="anchor"></a><code><span><span class="keyword">type</span> ifam</span><span> = <a href="../Gwdb_driver/index.html#type-ifam">Gwdb_driver.ifam</a></span></code></div><div class="spec-doc"><p>Family id</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-iper"><a href="#type-iper" class="anchor"></a><code><span><span class="keyword">type</span> iper</span><span> = <a href="../Gwdb_driver/index.html#type-iper">Gwdb_driver.iper</a></span></code></div><div class="spec-doc"><p>Person id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_iper"><a href="#val-string_of_iper" class="anchor"></a><code><span><span class="keyword">val</span> string_of_iper : <span><a href="#type-iper">iper</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Convert <code>iper</code> to string</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_ifam"><a href="#val-string_of_ifam" class="anchor"></a><code><span><span class="keyword">val</span> string_of_ifam : <span><a href="#type-ifam">ifam</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Convert <code>ifam</code> to string</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_istr"><a href="#val-string_of_istr" class="anchor"></a><code><span><span class="keyword">val</span> string_of_istr : <span><a href="#type-istr">istr</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Convert <code>istr</code> to string</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-iper_of_string"><a href="#val-iper_of_string" class="anchor"></a><code><span><span class="keyword">val</span> iper_of_string : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-iper">iper</a></span></code></div><div class="spec-doc"><p>Convert <code>iper</code> from string</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ifam_of_string"><a href="#val-ifam_of_string" class="anchor"></a><code><span><span class="keyword">val</span> ifam_of_string : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-ifam">ifam</a></span></code></div><div class="spec-doc"><p>Convert <code>ifam</code> from string</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-istr_of_string"><a href="#val-istr_of_string" class="anchor"></a><code><span><span class="keyword">val</span> istr_of_string : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Convert <code>istr</code> from string</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-person"><a href="#type-person" class="anchor"></a><code><span><span class="keyword">type</span> person</span><span> = <a href="../Gwdb_driver/index.html#type-person">Gwdb_driver.person</a></span></code></div><div class="spec-doc"><p>Person data structure</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-family"><a href="#type-family" class="anchor"></a><code><span><span class="keyword">type</span> family</span><span> = <a href="../Gwdb_driver/index.html#type-family">Gwdb_driver.family</a></span></code></div><div class="spec-doc"><p>Family data structure</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-relation"><a href="#type-relation" class="anchor"></a><code><span><span class="keyword">type</span> relation</span><span> = <span><span>(<a href="#type-iper">iper</a>, <a href="#type-istr">istr</a>)</span> <a href="../Def/index.html#type-gen_relation">Def.gen_relation</a></span></span></code></div><div class="spec-doc"><p>Database implementation for <code>Def.gen_relation</code></p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-title"><a href="#type-title" class="anchor"></a><code><span><span class="keyword">type</span> title</span><span> = <span><a href="#type-istr">istr</a> <a href="../Def/index.html#type-gen_title">Def.gen_title</a></span></span></code></div><div class="spec-doc"><p>Database implementation for <code>Def.gen_title</code></p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-pers_event"><a href="#type-pers_event" class="anchor"></a><code><span><span class="keyword">type</span> pers_event</span><span> = <span><span>(<a href="#type-iper">iper</a>, <a href="#type-istr">istr</a>)</span> <a href="../Def/index.html#type-gen_pers_event">Def.gen_pers_event</a></span></span></code></div><div class="spec-doc"><p>Database implementation for <code>Def.pers_event</code></p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-fam_event"><a href="#type-fam_event" class="anchor"></a><code><span><span class="keyword">type</span> fam_event</span><span> = <span><span>(<a href="#type-iper">iper</a>, <a href="#type-istr">istr</a>)</span> <a href="../Def/index.html#type-gen_fam_event">Def.gen_fam_event</a></span></span></code></div><div class="spec-doc"><p>Database implementation for <code>Def.fam_event</code></p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-string_person_index"><a href="#type-string_person_index" class="anchor"></a><code><span><span class="keyword">type</span> string_person_index</span><span> = <a href="../Gwdb_driver/index.html#type-string_person_index">Gwdb_driver.string_person_index</a></span></code></div><div class="spec-doc"><p>Data structure for optimised search throughout index by name (surname or first name).</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-base"><a href="#type-base" class="anchor"></a><code><span><span class="keyword">type</span> base</span><span> = <a href="../Gwdb_driver/index.html#type-base">Gwdb_driver.base</a></span></code></div><div class="spec-doc"><p>The database representation.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-open_base"><a href="#val-open_base" class="anchor"></a><code><span><span class="keyword">val</span> open_base : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-base">base</a></span></code></div><div class="spec-doc"><p>Open database associated with (likely situated in) the specified directory.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-close_base"><a href="#val-close_base" class="anchor"></a><code><span><span class="keyword">val</span> close_base : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Close database. May perform some clean up tasks.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dummy_iper"><a href="#val-dummy_iper" class="anchor"></a><code><span><span class="keyword">val</span> dummy_iper : <a href="#type-iper">iper</a></span></code></div><div class="spec-doc"><p>Dummy person id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dummy_ifam"><a href="#val-dummy_ifam" class="anchor"></a><code><span><span class="keyword">val</span> dummy_ifam : <a href="#type-ifam">ifam</a></span></code></div><div class="spec-doc"><p>Dummy family id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-eq_istr"><a href="#val-eq_istr" class="anchor"></a><code><span><span class="keyword">val</span> eq_istr : <span><a href="#type-istr">istr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-istr">istr</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>true</code> if strings with the giving ids are equal</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-eq_ifam"><a href="#val-eq_ifam" class="anchor"></a><code><span><span class="keyword">val</span> eq_ifam : <span><a href="#type-ifam">ifam</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-ifam">ifam</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>true</code> if families with the giving ids are equal</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-eq_iper"><a href="#val-eq_iper" class="anchor"></a><code><span><span class="keyword">val</span> eq_iper : <span><a href="#type-iper">iper</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-iper">iper</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>true</code> if persons with the giving ids are equal</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_empty_string"><a href="#val-is_empty_string" class="anchor"></a><code><span><span class="keyword">val</span> is_empty_string : <span><a href="#type-istr">istr</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>true</code> if string with the giving id is empty (&quot;&quot;)</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_quest_string"><a href="#val-is_quest_string" class="anchor"></a><code><span><span class="keyword">val</span> is_quest_string : <span><a href="#type-istr">istr</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>true</code> if string with the giving id is a question mark (&quot;?&quot;)</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-empty_string"><a href="#val-empty_string" class="anchor"></a><code><span><span class="keyword">val</span> empty_string : <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Id of the empty string (&quot;&quot;)</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-quest_string"><a href="#val-quest_string" class="anchor"></a><code><span><span class="keyword">val</span> quest_string : <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Id of the question mark (&quot;?&quot;)</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-empty_person"><a href="#val-empty_person" class="anchor"></a><code><span><span class="keyword">val</span> empty_person : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-iper">iper</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-person">person</a></span></code></div><div class="spec-doc"><p>Returns unitialised person with the giving id.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-empty_family"><a href="#val-empty_family" class="anchor"></a><code><span><span class="keyword">val</span> empty_family : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-ifam">ifam</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-family">family</a></span></code></div><div class="spec-doc"><p>Returns unitialised family with the giving id.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-iper_exists"><a href="#val-iper_exists" class="anchor"></a><code><span><span class="keyword">val</span> iper_exists : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-iper">iper</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Tells if person with giving id exists in the base.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ifam_exists"><a href="#val-ifam_exists" class="anchor"></a><code><span><span class="keyword">val</span> ifam_exists : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-ifam">ifam</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Tells if family with giving id exists in the base.</p></div></div><h3 id="getters"><a href="#getters" class="anchor"></a>Getters</h3><p>Getters are used to extract information about person and family. If corresponding information part isn't present, driver load it from the disk and cache it so further gets will return result immediately.</p><div class="odoc-spec"><div class="spec value anchored" id="val-get_access"><a href="#val-get_access" class="anchor"></a><code><span><span class="keyword">val</span> get_access : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Def/index.html#type-access">Def.access</a></span></code></div><div class="spec-doc"><p>Get privacy settings that define access to person's data</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_aliases"><a href="#val-get_aliases" class="anchor"></a><code><span><span class="keyword">val</span> get_aliases : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-istr">istr</a> list</span></span></code></div><div class="spec-doc"><p>Get person's aliases ids</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_baptism"><a href="#val-get_baptism" class="anchor"></a><code><span><span class="keyword">val</span> get_baptism : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Def/index.html#type-cdate">Def.cdate</a></span></code></div><div class="spec-doc"><p>Get person's baptism date</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_baptism_note"><a href="#val-get_baptism_note" class="anchor"></a><code><span><span class="keyword">val</span> get_baptism_note : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Get person's baptism note id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_baptism_place"><a href="#val-get_baptism_place" class="anchor"></a><code><span><span class="keyword">val</span> get_baptism_place : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Get person's baptism place id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_baptism_src"><a href="#val-get_baptism_src" class="anchor"></a><code><span><span class="keyword">val</span> get_baptism_src : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Get person's baptism source id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_birth"><a href="#val-get_birth" class="anchor"></a><code><span><span class="keyword">val</span> get_birth : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Def/index.html#type-cdate">Def.cdate</a></span></code></div><div class="spec-doc"><p>Get person's birth date</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_birth_note"><a href="#val-get_birth_note" class="anchor"></a><code><span><span class="keyword">val</span> get_birth_note : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Get person's birth note id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_birth_place"><a href="#val-get_birth_place" class="anchor"></a><code><span><span class="keyword">val</span> get_birth_place : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Get person's birth place id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_birth_src"><a href="#val-get_birth_src" class="anchor"></a><code><span><span class="keyword">val</span> get_birth_src : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Get person's birth source id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_burial"><a href="#val-get_burial" class="anchor"></a><code><span><span class="keyword">val</span> get_burial : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Def/index.html#type-burial">Def.burial</a></span></code></div><div class="spec-doc"><p>Get information about person's burial</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_burial_note"><a href="#val-get_burial_note" class="anchor"></a><code><span><span class="keyword">val</span> get_burial_note : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Get person's burial note id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_burial_place"><a href="#val-get_burial_place" class="anchor"></a><code><span><span class="keyword">val</span> get_burial_place : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Get person's burial place id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_burial_src"><a href="#val-get_burial_src" class="anchor"></a><code><span><span class="keyword">val</span> get_burial_src : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Get person's burial source id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_children"><a href="#val-get_children" class="anchor"></a><code><span><span class="keyword">val</span> get_children : <span><a href="#type-family">family</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-iper">iper</a> array</span></span></code></div><div class="spec-doc"><p>Get array of family's children ids</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_comment"><a href="#val-get_comment" class="anchor"></a><code><span><span class="keyword">val</span> get_comment : <span><a href="#type-family">family</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Get family's comment (notes) id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_consang"><a href="#val-get_consang" class="anchor"></a><code><span><span class="keyword">val</span> get_consang : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Adef/index.html#type-fix">Adef.fix</a></span></code></div><div class="spec-doc"><p>Get person's consanguinity degree with his ascendants</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_death"><a href="#val-get_death" class="anchor"></a><code><span><span class="keyword">val</span> get_death : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Def/index.html#type-death">Def.death</a></span></code></div><div class="spec-doc"><p>Get person's death status</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_death_note"><a href="#val-get_death_note" class="anchor"></a><code><span><span class="keyword">val</span> get_death_note : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Get person's death note id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_death_place"><a href="#val-get_death_place" class="anchor"></a><code><span><span class="keyword">val</span> get_death_place : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Get person's death place id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_death_src"><a href="#val-get_death_src" class="anchor"></a><code><span><span class="keyword">val</span> get_death_src : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Get person's death source id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_divorce"><a href="#val-get_divorce" class="anchor"></a><code><span><span class="keyword">val</span> get_divorce : <span><a href="#type-family">family</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Def/index.html#type-divorce">Def.divorce</a></span></code></div><div class="spec-doc"><p>Get family's divorce status</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_family"><a href="#val-get_family" class="anchor"></a><code><span><span class="keyword">val</span> get_family : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-ifam">ifam</a> array</span></span></code></div><div class="spec-doc"><p>Get array of family's ids to which a person belongs as parent (person's union)</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_father"><a href="#val-get_father" class="anchor"></a><code><span><span class="keyword">val</span> get_father : <span><a href="#type-family">family</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-iper">iper</a></span></code></div><div class="spec-doc"><p>Get family's father id (from the family's couple)</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_fevents"><a href="#val-get_fevents" class="anchor"></a><code><span><span class="keyword">val</span> get_fevents : <span><a href="#type-family">family</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-fam_event">fam_event</a> list</span></span></code></div><div class="spec-doc"><p>Get family's event list</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_first_name"><a href="#val-get_first_name" class="anchor"></a><code><span><span class="keyword">val</span> get_first_name : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Get person's first name id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_first_names_aliases"><a href="#val-get_first_names_aliases" class="anchor"></a><code><span><span class="keyword">val</span> get_first_names_aliases : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-istr">istr</a> list</span></span></code></div><div class="spec-doc"><p>Get list of person's first name aliases ids</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_fsources"><a href="#val-get_fsources" class="anchor"></a><code><span><span class="keyword">val</span> get_fsources : <span><a href="#type-family">family</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Get family's sources id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_ifam"><a href="#val-get_ifam" class="anchor"></a><code><span><span class="keyword">val</span> get_ifam : <span><a href="#type-family">family</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-ifam">ifam</a></span></code></div><div class="spec-doc"><p>Get family's id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_image"><a href="#val-get_image" class="anchor"></a><code><span><span class="keyword">val</span> get_image : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Get id of path to person's image</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_iper"><a href="#val-get_iper" class="anchor"></a><code><span><span class="keyword">val</span> get_iper : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-iper">iper</a></span></code></div><div class="spec-doc"><p>Get person's id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_marriage"><a href="#val-get_marriage" class="anchor"></a><code><span><span class="keyword">val</span> get_marriage : <span><a href="#type-family">family</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Def/index.html#type-cdate">Def.cdate</a></span></code></div><div class="spec-doc"><p>Get family's marriage date</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_marriage_note"><a href="#val-get_marriage_note" class="anchor"></a><code><span><span class="keyword">val</span> get_marriage_note : <span><a href="#type-family">family</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Get family's marriage note id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_marriage_place"><a href="#val-get_marriage_place" class="anchor"></a><code><span><span class="keyword">val</span> get_marriage_place : <span><a href="#type-family">family</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Get family's marriage place id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_marriage_src"><a href="#val-get_marriage_src" class="anchor"></a><code><span><span class="keyword">val</span> get_marriage_src : <span><a href="#type-family">family</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Get family's marriage source id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_mother"><a href="#val-get_mother" class="anchor"></a><code><span><span class="keyword">val</span> get_mother : <span><a href="#type-family">family</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-iper">iper</a></span></code></div><div class="spec-doc"><p>Get family's mother id (from the family's couple)</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_notes"><a href="#val-get_notes" class="anchor"></a><code><span><span class="keyword">val</span> get_notes : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Get person's notes id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_occ"><a href="#val-get_occ" class="anchor"></a><code><span><span class="keyword">val</span> get_occ : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Get person's occurence number</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_occupation"><a href="#val-get_occupation" class="anchor"></a><code><span><span class="keyword">val</span> get_occupation : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Get person's occupation id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_origin_file"><a href="#val-get_origin_file" class="anchor"></a><code><span><span class="keyword">val</span> get_origin_file : <span><a href="#type-family">family</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Get family's origin file (e.g. a .gw or .ged filename) id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_parent_array"><a href="#val-get_parent_array" class="anchor"></a><code><span><span class="keyword">val</span> get_parent_array : <span><a href="#type-family">family</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-iper">iper</a> array</span></span></code></div><div class="spec-doc"><p>Get family's parents ids (father and mother from family's couple)</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_parents"><a href="#val-get_parents" class="anchor"></a><code><span><span class="keyword">val</span> get_parents : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-ifam">ifam</a> option</span></span></code></div><div class="spec-doc"><p>Get person's family id to which his parents belong (as family's couple)</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_pevents"><a href="#val-get_pevents" class="anchor"></a><code><span><span class="keyword">val</span> get_pevents : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-pers_event">pers_event</a> list</span></span></code></div><div class="spec-doc"><p>Get person's event list</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_psources"><a href="#val-get_psources" class="anchor"></a><code><span><span class="keyword">val</span> get_psources : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Get person's sources id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_public_name"><a href="#val-get_public_name" class="anchor"></a><code><span><span class="keyword">val</span> get_public_name : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Get person's public name id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_qualifiers"><a href="#val-get_qualifiers" class="anchor"></a><code><span><span class="keyword">val</span> get_qualifiers : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-istr">istr</a> list</span></span></code></div><div class="spec-doc"><p>Get list of person's qualifiers ids</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_related"><a href="#val-get_related" class="anchor"></a><code><span><span class="keyword">val</span> get_related : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-iper">iper</a> list</span></span></code></div><div class="spec-doc"><p>Get person's related persons ids</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_relation"><a href="#val-get_relation" class="anchor"></a><code><span><span class="keyword">val</span> get_relation : <span><a href="#type-family">family</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Def/index.html#type-relation_kind">Def.relation_kind</a></span></code></div><div class="spec-doc"><p>Get relation kind between couple in the family</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_rparents"><a href="#val-get_rparents" class="anchor"></a><code><span><span class="keyword">val</span> get_rparents : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-relation">relation</a> list</span></span></code></div><div class="spec-doc"><p>Get person's relations with not native parents</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_sex"><a href="#val-get_sex" class="anchor"></a><code><span><span class="keyword">val</span> get_sex : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Def/index.html#type-sex">Def.sex</a></span></code></div><div class="spec-doc"><p>Get person's sex</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_surname"><a href="#val-get_surname" class="anchor"></a><code><span><span class="keyword">val</span> get_surname : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Get person's surname id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_surnames_aliases"><a href="#val-get_surnames_aliases" class="anchor"></a><code><span><span class="keyword">val</span> get_surnames_aliases : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-istr">istr</a> list</span></span></code></div><div class="spec-doc"><p>Get person's surname aliases ids</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_titles"><a href="#val-get_titles" class="anchor"></a><code><span><span class="keyword">val</span> get_titles : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-title">title</a> list</span></span></code></div><div class="spec-doc"><p>Get list of person's nobility titles</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_witnesses"><a href="#val-get_witnesses" class="anchor"></a><code><span><span class="keyword">val</span> get_witnesses : <span><a href="#type-family">family</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-iper">iper</a> array</span></span></code></div><div class="spec-doc"><p>Get array of family's witnesses ids</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-gen_couple_of_family"><a href="#val-gen_couple_of_family" class="anchor"></a><code><span><span class="keyword">val</span> gen_couple_of_family : <span><a href="#type-family">family</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-iper">iper</a> <a href="../Def/index.html#type-gen_couple">Def.gen_couple</a></span></span></code></div><div class="spec-doc"><p>Extract <code>gen_couple</code> from <code>family</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-gen_descend_of_family"><a href="#val-gen_descend_of_family" class="anchor"></a><code><span><span class="keyword">val</span> gen_descend_of_family : <span><a href="#type-family">family</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-iper">iper</a> <a href="../Def/index.html#type-gen_descend">Def.gen_descend</a></span></span></code></div><div class="spec-doc"><p>Extract <code>gen_descend</code> from <code>family</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-gen_family_of_family"><a href="#val-gen_family_of_family" class="anchor"></a><code><span><span class="keyword">val</span> gen_family_of_family : <span><a href="#type-family">family</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-iper">iper</a>, <a href="#type-ifam">ifam</a>, <a href="#type-istr">istr</a>)</span> <a href="../Def/index.html#type-gen_family">Def.gen_family</a></span></span></code></div><div class="spec-doc"><p>Extract <code>gen_family</code> from <code>family</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-gen_person_of_person"><a href="#val-gen_person_of_person" class="anchor"></a><code><span><span class="keyword">val</span> gen_person_of_person : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-iper">iper</a>, <a href="#type-iper">iper</a>, <a href="#type-istr">istr</a>)</span> <a href="../Def/index.html#type-gen_person">Def.gen_person</a></span></span></code></div><div class="spec-doc"><p>Extract <code>gen_person</code> from <code>person</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-gen_ascend_of_person"><a href="#val-gen_ascend_of_person" class="anchor"></a><code><span><span class="keyword">val</span> gen_ascend_of_person : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-ifam">ifam</a> <a href="../Def/index.html#type-gen_ascend">Def.gen_ascend</a></span></span></code></div><div class="spec-doc"><p>Extract <code>gen_ascend</code> from <code>person</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-gen_union_of_person"><a href="#val-gen_union_of_person" class="anchor"></a><code><span><span class="keyword">val</span> gen_union_of_person : <span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-ifam">ifam</a> <a href="../Def/index.html#type-gen_union">Def.gen_union</a></span></span></code></div><div class="spec-doc"><p>Extract <code>gen_union</code> from <code>person</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-family_of_gen_family"><a href="#val-family_of_gen_family" class="anchor"></a><code><span><span class="keyword">val</span> family_of_gen_family : 
  <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span>(<a href="#type-iper">iper</a>, <a href="#type-ifam">ifam</a>, <a href="#type-istr">istr</a>)</span> <a href="../Def/index.html#type-gen_family">Def.gen_family</a></span>
   * <span><a href="#type-iper">iper</a> <a href="../Def/index.html#type-gen_couple">Def.gen_couple</a></span>
   * <span><a href="#type-iper">iper</a> <a href="../Def/index.html#type-gen_descend">Def.gen_descend</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-family">family</a></span></code></div><div class="spec-doc"><p>Create <code>family</code> from associated values.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-person_of_gen_person"><a href="#val-person_of_gen_person" class="anchor"></a><code><span><span class="keyword">val</span> person_of_gen_person : 
  <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span>(<a href="#type-iper">iper</a>, <a href="#type-iper">iper</a>, <a href="#type-istr">istr</a>)</span> <a href="../Def/index.html#type-gen_person">Def.gen_person</a></span> * <span><a href="#type-ifam">ifam</a> <a href="../Def/index.html#type-gen_ascend">Def.gen_ascend</a></span> * <span><a href="#type-ifam">ifam</a> <a href="../Def/index.html#type-gen_union">Def.gen_union</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-person">person</a></span></code></div><div class="spec-doc"><p>Create <code>person</code> from associated values.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-poi"><a href="#val-poi" class="anchor"></a><code><span><span class="keyword">val</span> poi : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-iper">iper</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-person">person</a></span></code></div><div class="spec-doc"><p>Create uninitialised person with giving id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-foi"><a href="#val-foi" class="anchor"></a><code><span><span class="keyword">val</span> foi : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-ifam">ifam</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-family">family</a></span></code></div><div class="spec-doc"><p>Create uninitialised family with giving id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sou"><a href="#val-sou" class="anchor"></a><code><span><span class="keyword">val</span> sou : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-istr">istr</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Returns string that has giving id from the base</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-no_person"><a href="#val-no_person" class="anchor"></a><code><span><span class="keyword">val</span> no_person : <span><a href="#type-iper">iper</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-iper">iper</a>, <a href="#type-iper">iper</a>, <a href="#type-istr">istr</a>)</span> <a href="../Def/index.html#type-gen_person">Def.gen_person</a></span></span></code></div><div class="spec-doc"><p>Returns unitialised <code>gen_person</code> with giving id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-no_ascend"><a href="#val-no_ascend" class="anchor"></a><code><span><span class="keyword">val</span> no_ascend : <span><a href="#type-ifam">ifam</a> <a href="../Def/index.html#type-gen_ascend">Def.gen_ascend</a></span></span></code></div><div class="spec-doc"><p>Returns unitialised <code>gen_ascend</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-no_union"><a href="#val-no_union" class="anchor"></a><code><span><span class="keyword">val</span> no_union : <span><a href="#type-ifam">ifam</a> <a href="../Def/index.html#type-gen_union">Def.gen_union</a></span></span></code></div><div class="spec-doc"><p>Returns unitialised <code>gen_union</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-no_family"><a href="#val-no_family" class="anchor"></a><code><span><span class="keyword">val</span> no_family : <span><a href="#type-ifam">ifam</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-iper">iper</a>, <a href="#type-ifam">ifam</a>, <a href="#type-istr">istr</a>)</span> <a href="../Def/index.html#type-gen_family">Def.gen_family</a></span></span></code></div><div class="spec-doc"><p>Returns unitialised <code>gen_family</code> with giving id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-no_descend"><a href="#val-no_descend" class="anchor"></a><code><span><span class="keyword">val</span> no_descend : <span><a href="#type-iper">iper</a> <a href="../Def/index.html#type-gen_descend">Def.gen_descend</a></span></span></code></div><div class="spec-doc"><p>Returns unitialised <code>gen_descend</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-no_couple"><a href="#val-no_couple" class="anchor"></a><code><span><span class="keyword">val</span> no_couple : <span><a href="#type-iper">iper</a> <a href="../Def/index.html#type-gen_couple">Def.gen_couple</a></span></span></code></div><div class="spec-doc"><p>Returns unitialised <code>gen_couple</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-nb_of_persons"><a href="#val-nb_of_persons" class="anchor"></a><code><span><span class="keyword">val</span> nb_of_persons : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Returns number of persons inside the database</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-nb_of_real_persons"><a href="#val-nb_of_real_persons" class="anchor"></a><code><span><span class="keyword">val</span> nb_of_real_persons : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Returns number of defined persons (without bogus definition &quot;? ?&quot;) inside the database</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-nb_of_families"><a href="#val-nb_of_families" class="anchor"></a><code><span><span class="keyword">val</span> nb_of_families : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Returns number of families inside the database</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bname"><a href="#val-bname" class="anchor"></a><code><span><span class="keyword">val</span> bname : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Returns database name</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-patch_person"><a href="#val-patch_person" class="anchor"></a><code><span><span class="keyword">val</span> patch_person : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-iper">iper</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<a href="#type-iper">iper</a>, <a href="#type-iper">iper</a>, <a href="#type-istr">istr</a>)</span> <a href="../Def/index.html#type-gen_person">Def.gen_person</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Modify/add person with the giving id in the base. New names are added to the patched name index for the cosidered person and for evey member of family to which he belongs. Modification stay blocked until call of <code>commit_patches</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-patch_ascend"><a href="#val-patch_ascend" class="anchor"></a><code><span><span class="keyword">val</span> patch_ascend : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-iper">iper</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-ifam">ifam</a> <a href="../Def/index.html#type-gen_ascend">Def.gen_ascend</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Modify/add ascendants of a person with a giving id. Modification stay blocked until call of <code>commit_patches</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-patch_union"><a href="#val-patch_union" class="anchor"></a><code><span><span class="keyword">val</span> patch_union : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-iper">iper</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-ifam">ifam</a> <a href="../Def/index.html#type-gen_union">Def.gen_union</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Modify/add union of a person with a giving id. Modification stay blocked until call of <code>commit_patches</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-patch_family"><a href="#val-patch_family" class="anchor"></a><code><span><span class="keyword">val</span> patch_family : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-ifam">ifam</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<a href="#type-iper">iper</a>, <a href="#type-ifam">ifam</a>, <a href="#type-istr">istr</a>)</span> <a href="../Def/index.html#type-gen_family">Def.gen_family</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Modify/add family with a giving id. Modification stay blocked until call of <code>commit_patches</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-patch_descend"><a href="#val-patch_descend" class="anchor"></a><code><span><span class="keyword">val</span> patch_descend : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-ifam">ifam</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-iper">iper</a> <a href="../Def/index.html#type-gen_descend">Def.gen_descend</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Modify/add descendants of a family with a giving id. Modification stay blocked until call of <code>commit_patches</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-patch_couple"><a href="#val-patch_couple" class="anchor"></a><code><span><span class="keyword">val</span> patch_couple : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-ifam">ifam</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-iper">iper</a> <a href="../Def/index.html#type-gen_couple">Def.gen_couple</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Modify/add couple of a family with a giving id. Modification stay blocked until call of <code>commit_patches</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-insert_string"><a href="#val-insert_string" class="anchor"></a><code><span><span class="keyword">val</span> insert_string : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Modify/add string with a giving id. If string already exists return its id. Modification stay blocked until call of <code>commit_patches</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-commit_patches"><a href="#val-commit_patches" class="anchor"></a><code><span><span class="keyword">val</span> commit_patches : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Commit blocked modifications (patches) and update database files in order to apply modifications on the disk.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-commit_notes"><a href="#val-commit_notes" class="anchor"></a><code><span><span class="keyword">val</span> commit_notes : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>commit_notes fname s</code> Update content of the notes/extended page file <code>fname</code> if exists.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-new_iper"><a href="#val-new_iper" class="anchor"></a><code><span><span class="keyword">val</span> new_iper : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-iper">iper</a></span></code></div><div class="spec-doc"><p>Retruns new unused person's id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-new_ifam"><a href="#val-new_ifam" class="anchor"></a><code><span><span class="keyword">val</span> new_ifam : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-ifam">ifam</a></span></code></div><div class="spec-doc"><p>Retruns new unused family's id</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-insert_ascend"><a href="#val-insert_ascend" class="anchor"></a><code><span><span class="keyword">val</span> insert_ascend : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-iper">iper</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-ifam">ifam</a> <a href="../Def/index.html#type-gen_ascend">Def.gen_ascend</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Same as <code>patch_ascend</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-insert_union"><a href="#val-insert_union" class="anchor"></a><code><span><span class="keyword">val</span> insert_union : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-iper">iper</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-ifam">ifam</a> <a href="../Def/index.html#type-gen_union">Def.gen_union</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Same as <code>patch_union</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-insert_descend"><a href="#val-insert_descend" class="anchor"></a><code><span><span class="keyword">val</span> insert_descend : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-ifam">ifam</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-iper">iper</a> <a href="../Def/index.html#type-gen_descend">Def.gen_descend</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Same as <code>patch_couple</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-insert_couple"><a href="#val-insert_couple" class="anchor"></a><code><span><span class="keyword">val</span> insert_couple : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-ifam">ifam</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-iper">iper</a> <a href="../Def/index.html#type-gen_couple">Def.gen_couple</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Same as <code>patch_descend</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-delete_ascend"><a href="#val-delete_ascend" class="anchor"></a><code><span><span class="keyword">val</span> delete_ascend : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-iper">iper</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Clear person's ascendants data structure</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-delete_union"><a href="#val-delete_union" class="anchor"></a><code><span><span class="keyword">val</span> delete_union : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-iper">iper</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Clear person's union data structure</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-delete_descend"><a href="#val-delete_descend" class="anchor"></a><code><span><span class="keyword">val</span> delete_descend : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-ifam">ifam</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Clear family's descendants data structure</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-delete_couple"><a href="#val-delete_couple" class="anchor"></a><code><span><span class="keyword">val</span> delete_couple : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-ifam">ifam</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Clear family's couple data structure</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-person_of_key"><a href="#val-person_of_key" class="anchor"></a><code><span><span class="keyword">val</span> person_of_key : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-iper">iper</a> option</span></span></code></div><div class="spec-doc"><p><code>person_of_key first_name surname occ</code> returns person from his key information (first name, surname and occurence number)</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-persons_of_name"><a href="#val-persons_of_name" class="anchor"></a><code><span><span class="keyword">val</span> persons_of_name : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-iper">iper</a> list</span></span></code></div><div class="spec-doc"><p>Return list of person ids that have giving name (could be one of the mix).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-persons_of_first_name"><a href="#val-persons_of_first_name" class="anchor"></a><code><span><span class="keyword">val</span> persons_of_first_name : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-string_person_index">string_person_index</a></span></code></div><div class="spec-doc"><p>Returns data structure that allows to make optimised search throughout index by first name</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-persons_of_surname"><a href="#val-persons_of_surname" class="anchor"></a><code><span><span class="keyword">val</span> persons_of_surname : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-string_person_index">string_person_index</a></span></code></div><div class="spec-doc"><p>Returns data structure that allows to make optimised search throughout index by surname</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-spi_first"><a href="#val-spi_first" class="anchor"></a><code><span><span class="keyword">val</span> spi_first : <span><a href="#type-string_person_index">string_person_index</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Returns first <code>first/sur</code>name id starting with that string</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-spi_next"><a href="#val-spi_next" class="anchor"></a><code><span><span class="keyword">val</span> spi_next : <span><a href="#type-string_person_index">string_person_index</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-istr">istr</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-istr">istr</a></span></code></div><div class="spec-doc"><p>Retruns next <code>first/sur</code>name id that follows giving name's id by Gutil.alphabetical order</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-spi_find"><a href="#val-spi_find" class="anchor"></a><code><span><span class="keyword">val</span> spi_find : <span><a href="#type-string_person_index">string_person_index</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-istr">istr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-iper">iper</a> list</span></span></code></div><div class="spec-doc"><p>Retruns all persons id having that <code>first/sur</code>name.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-base_visible_get"><a href="#val-base_visible_get" class="anchor"></a><code><span><span class="keyword">val</span> base_visible_get : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><a href="#type-person">person</a> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-iper">iper</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>base_visible_get base fct ip</code> get visibility of person <code>ip</code> (<code>true</code> for not visible (restrited)) from the <code>base</code>. If file <i>restrict</i> is present then read it to get visibility information. If person's visibility isn't known, then set it with <code>fct</code>. Used when mode `use_restrict` is ativated</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-base_visible_write"><a href="#val-base_visible_write" class="anchor"></a><code><span><span class="keyword">val</span> base_visible_write : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Write updated visibility information to the <i>restricted</i> file.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-base_particles"><a href="#val-base_particles" class="anchor"></a><code><span><span class="keyword">val</span> base_particles : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Re</span>.re</span></code></div><div class="spec-doc"><p>Return regular expression that matches all defined in the <code>base</code> particles.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-base_strings_of_first_name"><a href="#val-base_strings_of_first_name" class="anchor"></a><code><span><span class="keyword">val</span> base_strings_of_first_name : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-istr">istr</a> list</span></span></code></div><div class="spec-doc"><p><code>base_strings_of_first_name base x</code> Return the list of first names (as <code>istr</code>) being equal or to <code>x</code> using <a href="../Name/index.html#val-crush_lower"><code>Name.crush_lower</code></a> comparison. <code>x</code> could be also a substring of the matched first name.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-base_strings_of_surname"><a href="#val-base_strings_of_surname" class="anchor"></a><code><span><span class="keyword">val</span> base_strings_of_surname : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-istr">istr</a> list</span></span></code></div><div class="spec-doc"><p><code>base_strings_of_surname base x</code> Return the list of surnames (as <code>istr</code>) being equal to <code>x</code> using <a href="../Name/index.html#val-crush_lower"><code>Name.crush_lower</code></a> comparison. <code>x</code> could be also a substring of the matched surname.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-load_ascends_array"><a href="#val-load_ascends_array" class="anchor"></a><code><span><span class="keyword">val</span> load_ascends_array : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Load array of ascendants in the memory and cache it so it could be accessed instantly by other functions unless <code>clear_ascends_array</code> is called.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-load_unions_array"><a href="#val-load_unions_array" class="anchor"></a><code><span><span class="keyword">val</span> load_unions_array : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Load array of unions in the memory and cache it so it could be accessed instantly by other functions unless <code>clear_unions_array</code> is called.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-load_couples_array"><a href="#val-load_couples_array" class="anchor"></a><code><span><span class="keyword">val</span> load_couples_array : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Load array of couples in the memory and cache it so it could be accessed instantly by other functions unless <code>clear_couples_array</code> is called.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-load_descends_array"><a href="#val-load_descends_array" class="anchor"></a><code><span><span class="keyword">val</span> load_descends_array : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Load array of descendants in the memory and cache it so it could be accessed instantly by other functions unless <code>clear_descends_array</code> is called.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-load_strings_array"><a href="#val-load_strings_array" class="anchor"></a><code><span><span class="keyword">val</span> load_strings_array : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Load array of strings in the memory and cache it so it could be accessed instantly by other functions unless <code>clear_strings_array</code> is called.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-load_persons_array"><a href="#val-load_persons_array" class="anchor"></a><code><span><span class="keyword">val</span> load_persons_array : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Load array of persons in the memory and cache it so it could be accessed instantly by other functions unless <code>clear_persons_array</code> is called.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-load_families_array"><a href="#val-load_families_array" class="anchor"></a><code><span><span class="keyword">val</span> load_families_array : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Load array of families in the memory and cache it so it could be accessed instantly by other functions unless <code>clear_families_array</code> is called.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-clear_ascends_array"><a href="#val-clear_ascends_array" class="anchor"></a><code><span><span class="keyword">val</span> clear_ascends_array : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Remove array of ascendants from the memory</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-clear_unions_array"><a href="#val-clear_unions_array" class="anchor"></a><code><span><span class="keyword">val</span> clear_unions_array : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Remove array of unions from the memory</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-clear_couples_array"><a href="#val-clear_couples_array" class="anchor"></a><code><span><span class="keyword">val</span> clear_couples_array : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Remove array of couples from the memory</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-clear_descends_array"><a href="#val-clear_descends_array" class="anchor"></a><code><span><span class="keyword">val</span> clear_descends_array : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Remove array of descendants from the memory</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-clear_strings_array"><a href="#val-clear_strings_array" class="anchor"></a><code><span><span class="keyword">val</span> clear_strings_array : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Remove array of strings from the memory</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-clear_persons_array"><a href="#val-clear_persons_array" class="anchor"></a><code><span><span class="keyword">val</span> clear_persons_array : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Remove array of persons from the memory</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-clear_families_array"><a href="#val-clear_families_array" class="anchor"></a><code><span><span class="keyword">val</span> clear_families_array : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Remove array of families from the memory</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-base_notes_read"><a href="#val-base_notes_read" class="anchor"></a><code><span><span class="keyword">val</span> base_notes_read : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>base_notes_read base fname</code> read and return content of <code>fname</code> note (either database note either extended page).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-base_notes_read_first_line"><a href="#val-base_notes_read_first_line" class="anchor"></a><code><span><span class="keyword">val</span> base_notes_read_first_line : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>base_notes_read base fname</code> read and return first line of <code>fname</code> note</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-base_notes_are_empty"><a href="#val-base_notes_are_empty" class="anchor"></a><code><span><span class="keyword">val</span> base_notes_are_empty : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Says if note has empty content</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-base_notes_origin_file"><a href="#val-base_notes_origin_file" class="anchor"></a><code><span><span class="keyword">val</span> base_notes_origin_file : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Retruns origin file (.gw file) of the note</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-base_notes_dir"><a href="#val-base_notes_dir" class="anchor"></a><code><span><span class="keyword">val</span> base_notes_dir : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Directory where extended pages are stored</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-base_wiznotes_dir"><a href="#val-base_wiznotes_dir" class="anchor"></a><code><span><span class="keyword">val</span> base_wiznotes_dir : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Directory where wizard notes are stored</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-date_of_last_change"><a href="#val-date_of_last_change" class="anchor"></a><code><span><span class="keyword">val</span> date_of_last_change : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p>Returns last modification time of the database on disk</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Collection"><a href="#module-Collection" class="anchor"></a><code><span><span class="keyword">module</span> Collection</span><span> = <a href="../Gwdb_driver/Collection/index.html">Gwdb_driver.Collection</a></span></code></div><div class="spec-doc"><p>Collections of elemetns</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Marker"><a href="#module-Marker" class="anchor"></a><code><span><span class="keyword">module</span> Marker</span><span> = <a href="../Gwdb_driver/Marker/index.html">Gwdb_driver.Marker</a></span></code></div><div class="spec-doc"><p>Markers for elements inside <code>Collection.t</code></p></div></div><h3 id="useful-collections"><a href="#useful-collections" class="anchor"></a>Useful collections</h3><div class="odoc-spec"><div class="spec value anchored" id="val-ipers"><a href="#val-ipers" class="anchor"></a><code><span><span class="keyword">val</span> ipers : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-iper">iper</a> <a href="../Gwdb_driver/Collection/index.html#type-t">Collection.t</a></span></span></code></div><div class="spec-doc"><p>Collection of person's ids</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-persons"><a href="#val-persons" class="anchor"></a><code><span><span class="keyword">val</span> persons : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-person">person</a> <a href="../Gwdb_driver/Collection/index.html#type-t">Collection.t</a></span></span></code></div><div class="spec-doc"><p>Collection of persons</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ifams"><a href="#val-ifams" class="anchor"></a><code><span><span class="keyword">val</span> ifams : <span><span class="optlabel">?select</span>:<span>(<span><a href="#type-ifam">ifam</a> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-ifam">ifam</a> <a href="../Gwdb_driver/Collection/index.html#type-t">Collection.t</a></span></span></code></div><div class="spec-doc"><p>Collection of family's ids</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-families"><a href="#val-families" class="anchor"></a><code><span><span class="keyword">val</span> families : <span><span class="optlabel">?select</span>:<span>(<span><a href="#type-family">family</a> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-family">family</a> <a href="../Gwdb_driver/Collection/index.html#type-t">Collection.t</a></span></span></code></div><div class="spec-doc"><p>Collection of families</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dummy_collection"><a href="#val-dummy_collection" class="anchor"></a><code><span><span class="keyword">val</span> dummy_collection : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../Gwdb_driver/Collection/index.html#type-t">Collection.t</a></span></span></code></div><div class="spec-doc"><p><code>dummy_collection x</code> create a dummy collection with no element. <code>x</code> is only used for typing. Useful for placeholders or for typing purpose.</p></div></div><h3 id="useful-markers"><a href="#useful-markers" class="anchor"></a>Useful markers</h3><div class="odoc-spec"><div class="spec value anchored" id="val-iper_marker"><a href="#val-iper_marker" class="anchor"></a><code><span><span class="keyword">val</span> iper_marker : <span><span><a href="#type-iper">iper</a> <a href="../Gwdb_driver/Collection/index.html#type-t">Collection.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-iper">iper</a>, <span class="type-var">'a</span>)</span> <a href="../Gwdb_driver/Marker/index.html#type-t">Marker.t</a></span></span></code></div><div class="spec-doc"><p><code>iper_marker c v</code> create marker over collection of person's ids and initialise it for every element with <code>v</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ifam_marker"><a href="#val-ifam_marker" class="anchor"></a><code><span><span class="keyword">val</span> ifam_marker : <span><span><a href="#type-ifam">ifam</a> <a href="../Gwdb_driver/Collection/index.html#type-t">Collection.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-ifam">ifam</a>, <span class="type-var">'a</span>)</span> <a href="../Gwdb_driver/Marker/index.html#type-t">Marker.t</a></span></span></code></div><div class="spec-doc"><p><code>ifam_marker c v</code> create marker over collection of family's ids and initialise it for every element with <code>v</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dummy_marker"><a href="#val-dummy_marker" class="anchor"></a><code><span><span class="keyword">val</span> dummy_marker : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../Gwdb_driver/Marker/index.html#type-t">Marker.t</a></span></span></code></div><div class="spec-doc"><p><code>dummy_marker k v</code> create a dummy collection with no element. <code>k</code> and <code>v</code> are only used for typing. Useful for placeholders or for typing purpose.</p></div></div><h3 id="database-creation"><a href="#database-creation" class="anchor"></a>Database creation</h3><div class="odoc-spec"><div class="spec value anchored" id="val-make"><a href="#val-make" class="anchor"></a><code><span><span class="keyword">val</span> make : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span>(<span><span><span>(int, int, int)</span> <a href="../Def/index.html#type-gen_person">Def.gen_person</a></span> array</span>
    * <span><span>int <a href="../Def/index.html#type-gen_ascend">Def.gen_ascend</a></span> array</span>
    * <span><span>int <a href="../Def/index.html#type-gen_union">Def.gen_union</a></span> array</span>)</span>
   * <span>(<span><span><span>(int, int, int)</span> <a href="../Def/index.html#type-gen_family">Def.gen_family</a></span> array</span>
      * <span><span>int <a href="../Def/index.html#type-gen_couple">Def.gen_couple</a></span> array</span>
      * <span><span>int <a href="../Def/index.html#type-gen_descend">Def.gen_descend</a></span> array</span>)</span>
   * <span>string array</span>
   * <a href="../Def/index.html#type-base_notes">Def.base_notes</a>)</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-base">base</a></span></code></div><div class="spec-doc"><p><code>make bname particles arrays</code> create a base with <code>bname</code> name and <code>arrays</code> as content.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read_nldb"><a href="#val-read_nldb" class="anchor"></a><code><span><span class="keyword">val</span> read_nldb : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-iper">iper</a>, <a href="#type-ifam">ifam</a>)</span> <a href="../Def/NLDB/index.html#type-t">Def.NLDB.t</a></span></span></code></div><div class="spec-doc"><p>TODOOCP : doc</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-write_nldb"><a href="#val-write_nldb" class="anchor"></a><code><span><span class="keyword">val</span> write_nldb : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<a href="#type-iper">iper</a>, <a href="#type-ifam">ifam</a>)</span> <a href="../Def/NLDB/index.html#type-t">Def.NLDB.t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sync"><a href="#val-sync" class="anchor"></a><code><span><span class="keyword">val</span> sync : <span><span class="optlabel">?scratch</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>sync scratch base</code> Ensure that everything is synced on disk.</p><p>Depending on the backend, it may perform various operation such as indexes rebuilding, and it might be a lengthy operation.</p><p>Use <code>scratch</code> (default false) to sync and rebuild the whole database. Otherwise, only changes that occured since the last <code>sync</code> call are treated.</p></div></div></details></div><div class="odoc-spec"><div class="spec value anchored" id="val-insert_person"><a href="#val-insert_person" class="anchor"></a><code><span><span class="keyword">val</span> insert_person : 
  <span><a href="../Gwdb_driver/index.html#type-base">Gwdb_driver.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'a</span>, <a href="../Gwdb_driver/index.html#type-iper">Gwdb_driver.iper</a>, <a href="../Gwdb_driver/index.html#type-istr">Gwdb_driver.istr</a>)</span> <a href="../Def/index.html#type-gen_person">Def.gen_person</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Gwdb_driver/index.html#type-ifam">Gwdb_driver.ifam</a> <a href="../Def/index.html#type-gen_ascend">Def.gen_ascend</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Gwdb_driver/index.html#type-ifam">Gwdb_driver.ifam</a> <a href="../Def/index.html#type-gen_union">Def.gen_union</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../Gwdb_driver/index.html#type-iper">Gwdb_driver.iper</a></span></code></div><div class="spec-doc"><p><code>insert_person base p a u</code> Add a new person with its union and ascendants in the <code>base</code>. Allocate and returns the fresh new id for this person. <code>p</code> SHOULD be defined using <code>dummy_iper</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-insert_family"><a href="#val-insert_family" class="anchor"></a><code><span><span class="keyword">val</span> insert_family : 
  <span><a href="../Gwdb_driver/index.html#type-base">Gwdb_driver.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../Gwdb_driver/index.html#type-iper">Gwdb_driver.iper</a>, <a href="../Gwdb_driver/index.html#type-ifam">Gwdb_driver.ifam</a>, <a href="../Gwdb_driver/index.html#type-istr">Gwdb_driver.istr</a>)</span> <a href="../Def/index.html#type-gen_family">Def.gen_family</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Gwdb_driver/index.html#type-iper">Gwdb_driver.iper</a> <a href="../Def/index.html#type-gen_couple">Def.gen_couple</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Gwdb_driver/index.html#type-iper">Gwdb_driver.iper</a> <a href="../Def/index.html#type-gen_descend">Def.gen_descend</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../Gwdb_driver/index.html#type-ifam">Gwdb_driver.ifam</a></span></code></div><div class="spec-doc"><p><code>insert_family base f c d</code> Add a new family with its couple and descendants the in the <code>base</code>. Allocate and returns the fresh new id for this family. <code>f</code> SHOULD be defined using <code>dummy_ifam</code>.</p></div></div><p>DELETE</p><div class="odoc-spec"><div class="spec value anchored" id="val-getp"><a href="#val-getp" class="anchor"></a><code><span><span class="keyword">val</span> getp : 
  <span><span>(<span><a href="../Gwdb_driver/index.html#type-person">Gwdb_driver.person</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Gwdb_driver/index.html#type-base">Gwdb_driver.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Gwdb_driver/index.html#type-iper">Gwdb_driver.iper</a> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'b</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_gen_person"><a href="#val-get_gen_person" class="anchor"></a><code><span><span class="keyword">val</span> get_gen_person : 
  <span><a href="../Gwdb_driver/index.html#type-base">Gwdb_driver.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Gwdb_driver/index.html#type-iper">Gwdb_driver.iper</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../Gwdb_driver/index.html#type-iper">Gwdb_driver.iper</a>, <a href="../Gwdb_driver/index.html#type-iper">Gwdb_driver.iper</a>, <a href="../Gwdb_driver/index.html#type-istr">Gwdb_driver.istr</a>)</span> <a href="../Def/index.html#type-gen_person">Def.gen_person</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_gen_ascend"><a href="#val-get_gen_ascend" class="anchor"></a><code><span><span class="keyword">val</span> get_gen_ascend : 
  <span><a href="../Gwdb_driver/index.html#type-base">Gwdb_driver.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Gwdb_driver/index.html#type-iper">Gwdb_driver.iper</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Gwdb_driver/index.html#type-ifam">Gwdb_driver.ifam</a> <a href="../Def/index.html#type-gen_ascend">Def.gen_ascend</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_gen_union"><a href="#val-get_gen_union" class="anchor"></a><code><span><span class="keyword">val</span> get_gen_union : 
  <span><a href="../Gwdb_driver/index.html#type-base">Gwdb_driver.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Gwdb_driver/index.html#type-iper">Gwdb_driver.iper</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Gwdb_driver/index.html#type-ifam">Gwdb_driver.ifam</a> <a href="../Def/index.html#type-gen_union">Def.gen_union</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-getf"><a href="#val-getf" class="anchor"></a><code><span><span class="keyword">val</span> getf : 
  <span><span>(<span><a href="../Gwdb_driver/index.html#type-family">Gwdb_driver.family</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Gwdb_driver/index.html#type-base">Gwdb_driver.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Gwdb_driver/index.html#type-ifam">Gwdb_driver.ifam</a> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'b</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_gen_family"><a href="#val-get_gen_family" class="anchor"></a><code><span><span class="keyword">val</span> get_gen_family : 
  <span><a href="../Gwdb_driver/index.html#type-base">Gwdb_driver.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Gwdb_driver/index.html#type-ifam">Gwdb_driver.ifam</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../Gwdb_driver/index.html#type-iper">Gwdb_driver.iper</a>, <a href="../Gwdb_driver/index.html#type-ifam">Gwdb_driver.ifam</a>, <a href="../Gwdb_driver/index.html#type-istr">Gwdb_driver.istr</a>)</span> <a href="../Def/index.html#type-gen_family">Def.gen_family</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_gen_couple"><a href="#val-get_gen_couple" class="anchor"></a><code><span><span class="keyword">val</span> get_gen_couple : 
  <span><a href="../Gwdb_driver/index.html#type-base">Gwdb_driver.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Gwdb_driver/index.html#type-ifam">Gwdb_driver.ifam</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Gwdb_driver/index.html#type-iper">Gwdb_driver.iper</a> <a href="../Def/index.html#type-gen_couple">Def.gen_couple</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_gen_descend"><a href="#val-get_gen_descend" class="anchor"></a><code><span><span class="keyword">val</span> get_gen_descend : 
  <span><a href="../Gwdb_driver/index.html#type-base">Gwdb_driver.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Gwdb_driver/index.html#type-ifam">Gwdb_driver.ifam</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Gwdb_driver/index.html#type-iper">Gwdb_driver.iper</a> <a href="../Def/index.html#type-gen_descend">Def.gen_descend</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_empty_p"><a href="#val-is_empty_p" class="anchor"></a><code><span><span class="keyword">val</span> is_empty_p : <span><span class="optlabel">?ifam</span>:<a href="#type-ifam">ifam</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-iper">iper</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rm_union"><a href="#val-rm_union" class="anchor"></a><code><span><span class="keyword">val</span> rm_union : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-ifam">ifam</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-iper">iper</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-delete_person"><a href="#val-delete_person" class="anchor"></a><code><span><span class="keyword">val</span> delete_person : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-iper">iper</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>delete_person base iper</code> and <code>delete_family base ifam</code> recursively delete data trying to do clever things:</p><ul><li>if data to be deleted is linked and useful, it is replaced by empty data (and is actually deleted otherwise)</li><li>if empty data is linked to deleted data, the former is deleted as well</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-delete_family"><a href="#val-delete_family" class="anchor"></a><code><span><span class="keyword">val</span> delete_family : <span><a href="#type-base">base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-ifam">ifam</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>See <a href="#val-delete_person"><code>delete_person</code></a></p></div></div></div></body></html>
