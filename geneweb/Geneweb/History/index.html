<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>History (geneweb.Geneweb.History)</title><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.3.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">geneweb</a> &#x00BB; <a href="../index.html">Geneweb</a> &#x00BB; History</nav><header class="odoc-preamble"><h1>Module <code><span>Geneweb.History</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-file_name"><a href="#val-file_name" class="anchor"></a><code><span><span class="keyword">val</span> file_name : <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Returns path to the file where history of current base updates is stored</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-record"><a href="#val-record" class="anchor"></a><code><span><span class="keyword">val</span> record : 
  <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a>, <a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a>, <a href="../../Gwdb/index.html#type-ifam">Gwdb.ifam</a>, string)</span> <a href="../../Def/index.html#type-base_changed">Def.base_changed</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>record conf change action</code> records new modification in the history files (global file and specific for each concerned by modification person). Additionally it does:</p><ul><li>Updates <code>conf.default_sosa_ref</code> if concered by modification person is referenced by default_sosa_ref</li><li>Notify foreign <i>notify_change</i> about modification on the base (doesn't notify if multiple modifications are done succesively)</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-notify"><a href="#val-notify" class="anchor"></a><code><span><span class="keyword">val</span> notify : <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>notify conf base action</code> Explicit notification of foreign script <i>notify_change</i> that modification action <code>action</code> was executed on the database. Since <code>record</code> already does notify script about unary modification on the base, this function is used exclusively to send notification about multiple modifications and avoid creating indefinite amount of processes for each modification (for example for each concerned person in the list of modified persons).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-print"><a href="#val-print" class="anchor"></a><code><span><span class="keyword">val</span> print : <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Displays an history of updates</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-print_search"><a href="#val-print_search" class="anchor"></a><code><span><span class="keyword">val</span> print_search : <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Same as `print`, but simultaneously searches for text inside the history and higlhight all found matches. Search pattern is available with <i>s</i> variable in environement <code>conf.env</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-line_fields"><a href="#val-line_fields" class="anchor"></a><code><span><span class="keyword">val</span> line_fields : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(string * string * string * <span>string option</span>)</span> option</span></span></code></div><div class="spec-doc"><p>Parses one line of history file that delimits one modification record.</p></div></div></div></body></html>
