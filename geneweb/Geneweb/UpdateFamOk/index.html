<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>UpdateFamOk (geneweb.Geneweb.UpdateFamOk)</title><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">geneweb</a> &#x00BB; <a href="../index.html">Geneweb</a> &#x00BB; UpdateFamOk</nav><header class="odoc-preamble"><h1>Module <code><span>Geneweb.UpdateFamOk</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-reconstitute_from_fevents"><a href="#val-reconstitute_from_fevents" class="anchor"></a><code><span><span class="keyword">val</span> reconstitute_from_fevents : 
  <span>bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'string</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span>(<span class="type-var">'person</span>, <span class="type-var">'string</span>)</span> <a href="../../Def/index.html#type-gen_fam_event">Def.gen_fam_event</a></span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>(<a href="../../Def/index.html#type-relation_kind">Def.relation_kind</a> * <a href="../../Def/index.html#type-cdate">Def.cdate</a> * <span class="type-var">'string</span> * <span class="type-var">'string</span> * <span class="type-var">'string</span>)</span>
  * <a href="../../Def/index.html#type-divorce">Def.divorce</a>
  * <span><span>(<span class="type-var">'person</span> * <a href="../../Def/index.html#type-witness_kind">Def.witness_kind</a>)</span> array</span></span></code></div><div class="spec-doc"><p><code>reconstitute_from_fevents nsck empty_string family_events</code> Iterate over family's events and returns a tuple with:</p><ul><li>marriage information (relation kind, date, place, notes, source);</li><li>divorce information;</li><li>marriage witnesses;</li></ul><p>Boolean `nsck' is true if no check have been made on the married persons sex.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-effective_mod"><a href="#val-effective_mod" class="anchor"></a><code><span><span class="keyword">val</span> effective_mod : 
  <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span>bool <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../Update/index.html#type-key">Update.key</a>, <a href="../../Gwdb/index.html#type-ifam">Gwdb.ifam</a>, string)</span> <a href="../../Def/index.html#type-gen_family">Def.gen_family</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Update/index.html#type-key">Update.key</a> <a href="../../Def/index.html#type-gen_couple">Def.gen_couple</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Update/index.html#type-key">Update.key</a> <a href="../../Def/index.html#type-gen_descend">Def.gen_descend</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../Gwdb/index.html#type-ifam">Gwdb.ifam</a>
  * <span><span>(<a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a>, <a href="../../Gwdb/index.html#type-ifam">Gwdb.ifam</a>, <a href="../../Gwdb/index.html#type-istr">Gwdb.istr</a>)</span> <a href="../../Def/index.html#type-gen_family">Def.gen_family</a></span>
  * <span><a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a> <a href="../../Def/index.html#type-gen_couple">Def.gen_couple</a></span>
  * <span><a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a> <a href="../../Def/index.html#type-gen_descend">Def.gen_descend</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-effective_del"><a href="#val-effective_del" class="anchor"></a><code><span><span class="keyword">val</span> effective_del : 
  <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-family">Gwdb.family</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Removes a family from the base</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-all_checks_family"><a href="#val-all_checks_family" class="anchor"></a><code><span><span class="keyword">val</span> all_checks_family : 
  <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-ifam">Gwdb.ifam</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a>, <a href="../../Gwdb/index.html#type-ifam">Gwdb.ifam</a>, <a href="../../Gwdb/index.html#type-istr">Gwdb.istr</a>)</span> <a href="../../Def/index.html#type-gen_family">Def.gen_family</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a> <a href="../../Def/index.html#type-gen_couple">Def.gen_couple</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a> <a href="../../Def/index.html#type-gen_descend">Def.gen_descend</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../Update/index.html#type-key">Update.key</a> <a href="../../Def/index.html#type-gen_couple">Def.gen_couple</a></span>
   * <span><a href="../Update/index.html#type-key">Update.key</a> <a href="../../Def/index.html#type-gen_descend">Def.gen_descend</a></span>
   * <span><span>(<span>(<span><span class="type-var">'i</span> array</span> * <span><span class="type-var">'j</span> array</span>)</span> * <span>(<span><span class="type-var">'i</span> array</span> * <span><span class="type-var">'j</span> array</span>)</span>)</span> option</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../CheckItem/index.html#type-base_warning">CheckItem.base_warning</a> list</span> * <span><a href="../CheckItem/index.html#type-base_misc">CheckItem.base_misc</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-print_family"><a href="#val-print_family" class="anchor"></a><code><span><span class="keyword">val</span> print_family : 
  <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../CheckItem/index.html#type-base_warning">CheckItem.base_warning</a> list</span> * <span><a href="../CheckItem/index.html#type-base_misc">CheckItem.base_misc</a> list</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a> <a href="../../Adef/index.html#type-gen_couple">Adef.gen_couple</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a> <a href="../../Def/index.html#type-gen_descend">Def.gen_descend</a></span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Displays a family page in HTML after an update. Used by MergeFamOk</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-print_del"><a href="#val-print_del" class="anchor"></a><code><span><span class="keyword">val</span> print_del : <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Deletes a family and displays a page confirming its deletion</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-print_add"><a href="#val-print_add" class="anchor"></a><code><span><span class="keyword">val</span> print_add : <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Displays the page after validating the addition of a family in the base</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-print_add_parents"><a href="#val-print_add_parents" class="anchor"></a><code><span><span class="keyword">val</span> print_add_parents : <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-print_mod_aux"><a href="#val-print_mod_aux" class="anchor"></a><code><span><span class="keyword">val</span> print_mod_aux : 
  <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>(string * string * int * <a href="../Update/index.html#type-create">Update.create</a> * string, <a href="../../Gwdb/index.html#type-ifam">Gwdb.ifam</a>, string)</span>
     <a href="../../Def/index.html#type-gen_family">Def.gen_family</a></span> <span class="arrow">&#45;&gt;</span></span>
    <span><span><span>(string * string * int * <a href="../Update/index.html#type-create">Update.create</a> * string)</span> <a href="../../Def/index.html#type-gen_couple">Def.gen_couple</a></span> <span class="arrow">&#45;&gt;</span></span>
    <span><span><span>(string * string * int * <a href="../Update/index.html#type-create">Update.create</a> * string)</span> <a href="../../Def/index.html#type-gen_descend">Def.gen_descend</a></span> <span class="arrow">&#45;&gt;</span></span>
    unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-print_mod"><a href="#val-print_mod" class="anchor"></a><code><span><span class="keyword">val</span> print_mod : <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-print_inv"><a href="#val-print_inv" class="anchor"></a><code><span><span class="keyword">val</span> print_inv : <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Reverses families</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-print_change_order_ok"><a href="#val-print_change_order_ok" class="anchor"></a><code><span><span class="keyword">val</span> print_change_order_ok : <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Changes the family order for a person</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-print_change_event_order"><a href="#val-print_change_event_order" class="anchor"></a><code><span><span class="keyword">val</span> print_change_event_order : <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Changes the evenements order for a family</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-check_family"><a href="#val-check_family" class="anchor"></a><code><span><span class="keyword">val</span> check_family : 
  <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(string * string * <span class="type-var">_</span> * <span class="type-var">_</span> * <span class="type-var">_</span>, <span class="type-var">_</span>, <span class="type-var">_</span>)</span> <a href="../../Def/index.html#type-gen_family">Def.gen_family</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(string * string * <span class="type-var">_</span> * <span class="type-var">_</span> * <span class="type-var">_</span>)</span> <a href="../../Def/index.html#type-gen_couple">Def.gen_couple</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Update/index.html#type-update_error">Update.update_error</a> option</span> * <span><a href="../Update/index.html#type-update_error">Update.update_error</a> option</span></span></code></div><div class="spec-doc"><p><code>check_family conf fam cpl</code> Checks that no name is missing.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-strip_family"><a href="#val-strip_family" class="anchor"></a><code><span><span class="keyword">val</span> strip_family : 
  <span><span><span>(string * <span class="type-var">'a</span> * <span class="type-var">'b</span> * <span class="type-var">'c</span> * <span class="type-var">'d</span>, <span class="type-var">'e</span>, string)</span> <a href="../../Def/index.html#type-gen_family">Def.gen_family</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(string * <span class="type-var">'f</span> * <span class="type-var">'g</span> * <span class="type-var">'h</span> * <span class="type-var">'i</span>)</span> <a href="../../Def/index.html#type-gen_descend">Def.gen_descend</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(string * <span class="type-var">'a</span> * <span class="type-var">'b</span> * <span class="type-var">'c</span> * <span class="type-var">'d</span>, <span class="type-var">'e</span>, string)</span> <a href="../../Def/index.html#type-gen_family">Def.gen_family</a></span>
  * <span><span>(string * <span class="type-var">'f</span> * <span class="type-var">'g</span> * <span class="type-var">'h</span> * <span class="type-var">'i</span>)</span> <a href="../../Def/index.html#type-gen_descend">Def.gen_descend</a></span></span></code></div><div class="spec-doc"><p><code>strip_family fam des</code> Removes empty person from witness list and empty events from event list.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-effective_add"><a href="#val-effective_add" class="anchor"></a><code><span><span class="keyword">val</span> effective_add : 
  <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span>bool <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../Update/index.html#type-key">Update.key</a>, <span class="type-var">'a</span>, string)</span> <a href="../../Def/index.html#type-gen_family">Def.gen_family</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Update/index.html#type-key">Update.key</a> <a href="../../Def/index.html#type-gen_couple">Def.gen_couple</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Update/index.html#type-key">Update.key</a> <a href="../../Def/index.html#type-gen_descend">Def.gen_descend</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../Gwdb_driver/index.html#type-ifam">Gwdb_driver.ifam</a>
  * <span><span>(<a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a>, <a href="../../Gwdb/index.html#type-ifam">Gwdb.ifam</a>, <a href="../../Gwdb/index.html#type-istr">Gwdb.istr</a>)</span> <a href="../../Def/index.html#type-gen_family">Def.gen_family</a></span>
  * <span><a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a> <a href="../../Def/index.html#type-gen_couple">Def.gen_couple</a></span>
  * <span><a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a> <a href="../../Def/index.html#type-gen_descend">Def.gen_descend</a></span></span></code></div><div class="spec-doc"><p><code>effective_add conf base nsck sfam scpl sdes</code> Patch base without commiting changes.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-patch_person_with_pevents"><a href="#val-patch_person_with_pevents" class="anchor"></a><code><span><span class="keyword">val</span> patch_person_with_pevents : <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>patch_parent_with_pevents base cpl</code> If parents have information about birth or death but no pevent, add a pevent with these info</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-patch_parent_with_pevents"><a href="#val-patch_parent_with_pevents" class="anchor"></a><code><span><span class="keyword">val</span> patch_parent_with_pevents : <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a> <a href="../../Adef/index.html#type-gen_couple">Adef.gen_couple</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>See patch_person_with_pevents</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-patch_children_with_pevents"><a href="#val-patch_children_with_pevents" class="anchor"></a><code><span><span class="keyword">val</span> patch_children_with_pevents : 
  <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a> <a href="../../Def/index.html#type-gen_descend">Def.gen_descend</a></span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>See patch_person_with_pevents</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-family_structure"><a href="#val-family_structure" class="anchor"></a><code><span><span class="keyword">val</span> family_structure : 
  <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-ifam">Gwdb.ifam</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a> array</span> * <span><a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a> array</span></span></code></div><div class="spec-doc"><p><code>family_structure base ifam</code> Returns (parents, children)</p></div></div></div></body></html>