<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Image (geneweb.Geneweb.Image)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">geneweb</a> &#x00BB; <a href="../index.html">Geneweb</a> &#x00BB; Image</nav><header class="odoc-preamble"><h1>Module <code><span>Geneweb.Image</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value" id="val-scale_to_fit" class="anchored"><a href="#val-scale_to_fit" class="anchor"></a><code><span><span class="keyword">val</span> scale_to_fit : <span>max_w:int <span class="arrow">&#45;&gt;</span></span> <span>max_h:int <span class="arrow">&#45;&gt;</span></span> <span>w:int <span class="arrow">&#45;&gt;</span></span> <span>h:int <span class="arrow">&#45;&gt;</span></span> int * int</span></code></div><div class="spec-doc"><p><code>scale_to_fit ~max_w ~max_h ~w ~h</code> is the <code>(width, height)</code> of a proportionally scaled <code>(w, h)</code> rectangle so it can fit in a <code>(max_w, max_h)</code> rectangle</p></div></div><div class="odoc-spec"><div class="spec value" id="val-source_filename" class="anchored"><a href="#val-source_filename" class="anchor"></a><code><span><span class="keyword">val</span> source_filename : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Returns path to the image file with the giving name in directory <i>src/</i>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prefix" class="anchored"><a href="#val-prefix" class="anchor"></a><code><span><span class="keyword">val</span> prefix : <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../Adef/index.html#type-escaped_string">Adef.escaped_string</a></span></code></div><div class="spec-doc"><p>Returns the image prefix (conf.image_prefix), html escaped</p></div></div><div class="odoc-spec"><div class="spec value" id="val-default_portrait_filename" class="anchored"><a href="#val-default_portrait_filename" class="anchor"></a><code><span><span class="keyword">val</span> default_portrait_filename : <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Gwdb/index.html#type-person">Gwdb.person</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>default_portrait_filename base p</code> is the default filename of <code>p</code>'s portrait. Without it's file extension. e.g: default_portrait_filename_of_key &quot;Jean Claude&quot; &quot;DUPOND&quot; 3 is &quot;jean_claude.3.dupond&quot;</p></div></div><div class="odoc-spec"><div class="spec value" id="val-size_from_path" class="anchored"><a href="#val-size_from_path" class="anchor"></a><code><span><span class="keyword">val</span> size_from_path : <span><span>[ <span>`Path of string</span> ]</span> <span class="arrow">&#45;&gt;</span></span> <span><span>( int * int, unit )</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p><code>size_from_path path</code></p><ul><li>Error () if failed to read or parse file</li><li>Ok (width, height) of the file. It works by openning the file and reading magic numbers</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-path_of_filename" class="anchored"><a href="#val-path_of_filename" class="anchor"></a><code><span><span class="keyword">val</span> path_of_filename : <span>string <span class="arrow">&#45;&gt;</span></span> <span>[&gt; <span>`Path of string</span> ]</span></span></code></div><div class="spec-doc"><p><code>path_of_filename fname</code> search for image <i>images/fname</i> inside the base and assets directories. Return the path to found file or <code>fname</code> if file isn't found.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rename_portrait" class="anchored"><a href="#val-rename_portrait" class="anchor"></a><code><span><span class="keyword">val</span> rename_portrait : 
  <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-person">Gwdb.person</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(string * string * int)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Rename portrait to match updated name</p></div></div><div class="odoc-spec"><div class="spec value" id="val-src_to_string" class="anchored"><a href="#val-src_to_string" class="anchor"></a><code><span><span class="keyword">val</span> src_to_string : <span><span>[&lt; <span>`Path of string</span> <span><span>| `Url</span> of string</span> ]</span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>src_to_string src</code> is <code>src</code> as a string</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_portrait_path" class="anchored"><a href="#val-get_portrait_path" class="anchor"></a><code><span><span class="keyword">val</span> get_portrait_path : 
  <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-person">Gwdb.person</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>[&gt; <span>`Path of string</span> ]</span> option</span></span></code></div><div class="spec-doc"><p><code>get_portrait_path conf base p</code> is</p><ul><li><code>None</code> if we don't have access to <code>p</code>'s portrait or it doesn't exist.</li><li><code>Some path</code> with <code>path</code> the full path with extension of <code>p</code>'s portrait.</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-get_portrait_with_size" class="anchored"><a href="#val-get_portrait_with_size" class="anchor"></a><code><span><span class="keyword">val</span> get_portrait_with_size : 
  <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-person">Gwdb.person</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span>[&gt; <span>`Path of string</span> <span><span>| `Url</span> of string</span> ]</span> * <span><span>(int * int)</span> option</span>)</span> option</span></span></code></div><div class="spec-doc"><p><code>get_portrait_with_size conf base p</code> is</p><ul><li><code>None</code> if we don't have access to <code>p</code>'s portrait or it doesn't exist.</li><li><code>Some (src, size_opt)</code> with <code>src</code> the url or path of <code>p</code>'s portrait. <code>size_opt</code> is the (width,height) of the portrait if we could recover them</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-get_portrait" class="anchored"><a href="#val-get_portrait" class="anchor"></a><code><span><span class="keyword">val</span> get_portrait : 
  <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-person">Gwdb.person</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>[&gt; <span>`Path of string</span> <span><span>| `Url</span> of string</span> ]</span> option</span></span></code></div><div class="spec-doc"><p><code>get_portrait conf base p</code> is</p><ul><li><code>None</code> if we don't have access to <code>p</code>'s portrait or it doesn't exist.</li><li><code>Some src</code> with <code>src</code> the url or path of <code>p</code>'s portrait.</li></ul></div></div></div></body></html>