<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>UpdateData (geneweb.Geneweb.UpdateData)</title><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../index.html">geneweb</a> &#x00BB; <a href="../index.html">Geneweb</a> &#x00BB; UpdateData</nav><header class="odoc-preamble"><h1>Module <code><span>Geneweb.UpdateData</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module anchored" id="module-PersMap"><a href="#module-PersMap" class="anchor"></a><code><span><span class="keyword">module</span> <a href="PersMap/index.html">PersMap</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-PersSet"><a href="#module-PersSet" class="anchor"></a><code><span><span class="keyword">module</span> <a href="PersSet/index.html">PersSet</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-StringSet"><a href="#module-StringSet" class="anchor"></a><code><span><span class="keyword">module</span> <a href="StringSet/index.html">StringSet</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-IstrSet"><a href="#module-IstrSet" class="anchor"></a><code><span><span class="keyword">module</span> <a href="IstrSet/index.html">IstrSet</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_data"><a href="#val-get_data" class="anchor"></a><code><span><span class="keyword">val</span> get_data : 
  <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../../Gwdb/index.html#type-person">Gwdb.person</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../Gwdb/index.html#type-istr">Gwdb.istr</a>)</span> list</span>
  * <span><span>(<span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../../Def/index.html#type-gen_pers_event">Def.gen_pers_event</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span>)</span> list</span>
  * <span><span>(<span><a href="../../Gwdb/index.html#type-family">Gwdb.family</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../Gwdb/index.html#type-istr">Gwdb.istr</a>)</span> list</span>
  * <span><span>(<span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'e</span>)</span> <a href="../../Def/index.html#type-gen_fam_event">Def.gen_fam_event</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'f</span>)</span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_all_data"><a href="#val-get_all_data" class="anchor"></a><code><span><span class="keyword">val</span> get_all_data : <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="IstrSet/index.html#type-elt">IstrSet.elt</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_person_from_data"><a href="#val-get_person_from_data" class="anchor"></a><code><span><span class="keyword">val</span> get_person_from_data : 
  <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="PersMap/index.html#type-key">PersMap.key</a> * <span><a href="PersSet/index.html#type-elt">PersSet.elt</a> list</span>)</span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-combine_by_ini"><a href="#val-combine_by_ini" class="anchor"></a><code><span><span class="keyword">val</span> combine_by_ini : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'a</span> * string)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(string * <span><span>(<span class="type-var">'a</span> * string)</span> list</span>)</span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-reduce_cpl_list"><a href="#val-reduce_cpl_list" class="anchor"></a><code><span><span class="keyword">val</span> reduce_cpl_list : <span>int <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span> * <span><span class="type-var">'b</span> list</span>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span><span class="type-var">'b</span> list</span>)</span> list</span></span></code></div><div class="spec-doc"><p><code>Description</code> : Retourne la sous liste telle que la somme des longueurs des ('b list) soit égale à size. <code>Args</code> :</p><ul><li>size : la taille de la liste retournée</li><li>list : la liste originale <code>Retour</code> :</li><li>list : la nouvelle liste dont la somme des ('b list) est égale à size <code>Rem</code> : Non exporté en clair hors de ce module.</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-update_person"><a href="#val-update_person" class="anchor"></a><code><span><span class="keyword">val</span> update_person : 
  <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-person">Gwdb.person</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a>, <a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a>, <a href="../../Gwdb/index.html#type-istr">Gwdb.istr</a>)</span> <a href="../../Def/index.html#type-gen_person">Def.gen_person</a></span></span></code></div><div class="spec-doc"><p><code>Description</code> : Met à jour le/les champ(s) de la personne. <code>Args</code> :</p><ul><li>conf : configuration de la base</li><li>base : base de donnée</li><li>old : l'ancien contenu</li><li>new_input : le nouveau contenu</li><li>p : person <code>Retour</code> :</li><li>gen_person iper istr : gen_person avec les champs modifiés <code>Rem</code> : Non exporté en clair hors de ce module.</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-update_family"><a href="#val-update_family" class="anchor"></a><code><span><span class="keyword">val</span> update_family : 
  <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-family">Gwdb.family</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a>, <a href="../../Gwdb/index.html#type-ifam">Gwdb.ifam</a>, <a href="../../Gwdb/index.html#type-istr">Gwdb.istr</a>)</span> <a href="../../Def/index.html#type-gen_family">Def.gen_family</a></span></span></code></div><div class="spec-doc"><p><code>Description</code> : Met à jour le/les champ(s) de la famille. <code>Args</code> :</p><ul><li>conf : configuration de la base</li><li>base : base de donnée</li><li>old : l'ancien contenu</li><li>new_input : le nouveau contenu</li><li>fam : family <code>Retour</code> :</li><li>gen_family ifam istr : gen_family avec les champs modifiés <code>Rem</code> : Non exporté en clair hors de ce module.</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-update_person_list"><a href="#val-update_person_list" class="anchor"></a><code><span><span class="keyword">val</span> update_person_list : 
  <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(string * <span><a href="../../Gwdb/index.html#type-person">Gwdb.person</a> list</span>)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p><code>Description</code> : <code>Args</code> :</p><ul><li>conf : configuration</li><li>base : base</li><li>new_input : le nouveau contenu</li><li>list : la liste des (clé, person list)</li><li>nb_pers : le nombre de personnes concernées par la mise à jour</li><li>max_updates = le nombre maximum de persons que l'on met à jour <code>Retour</code> :</li><li>unit <code>Rem</code> : Non exporté en clair hors de ce module.</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-move_particle"><a href="#val-move_particle" class="anchor"></a><code><span><span class="keyword">val</span> move_particle : <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-build_list"><a href="#val-build_list" class="anchor"></a><code><span><span class="keyword">val</span> build_list : <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../../Gwdb/index.html#type-istr">Gwdb.istr</a> * string)</span> list</span></span></code></div><div class="spec-doc"><p>Get all the data and filter them if <code>&quot;s&quot;</code> is defined in <code>conf.env</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-build_list_short"><a href="#val-build_list_short" class="anchor"></a><code><span><span class="keyword">val</span> build_list_short : 
  <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'a</span> * string)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="StringSet/index.html#type-elt">StringSet.elt</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-build_list_long"><a href="#val-build_list_long" class="anchor"></a><code><span><span class="keyword">val</span> build_list_long : 
  <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../../Gwdb/index.html#type-istr">Gwdb.istr</a> * string)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(string * <span><span>(<a href="../../Gwdb/index.html#type-istr">Gwdb.istr</a> * string)</span> list</span>)</span> list</span></span></code></div></div></div></body></html>