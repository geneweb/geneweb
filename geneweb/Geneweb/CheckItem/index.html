<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>CheckItem (geneweb.Geneweb.CheckItem)</title><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../index.html">geneweb</a> &#x00BB; <a href="../index.html">Geneweb</a> &#x00BB; CheckItem</nav><header class="odoc-preamble"><h1>Module <code><span>Geneweb.CheckItem</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-base_error"><a href="#type-base_error" class="anchor"></a><code><span><span class="keyword">type</span> base_error</span><span> = <span><a href="../../Gwdb/index.html#type-person">Gwdb.person</a> <a href="../../Def/index.html#type-error">Def.error</a></span></span></code></div><div class="spec-doc"><p>Database specification error</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-base_warning"><a href="#type-base_warning" class="anchor"></a><code><span><span class="keyword">type</span> base_warning</span><span> =
  <span><span>(<a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a>,
    <a href="../../Gwdb/index.html#type-person">Gwdb.person</a>,
    <a href="../../Gwdb/index.html#type-ifam">Gwdb.ifam</a>,
    <a href="../../Gwdb/index.html#type-family">Gwdb.family</a>,
    <a href="../../Gwdb/index.html#type-title">Gwdb.title</a>,
    <a href="../../Gwdb/index.html#type-pers_event">Gwdb.pers_event</a>,
    <a href="../../Gwdb/index.html#type-fam_event">Gwdb.fam_event</a>)</span>
    <a href="../../Def/index.html#type-warning">Def.warning</a></span></span></code></div><div class="spec-doc"><p>Database specification warning</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-base_misc"><a href="#type-base_misc" class="anchor"></a><code><span><span class="keyword">type</span> base_misc</span><span> = <span><span>(<a href="../../Gwdb/index.html#type-person">Gwdb.person</a>, <a href="../../Gwdb/index.html#type-family">Gwdb.family</a>, <a href="../../Gwdb/index.html#type-title">Gwdb.title</a>)</span> <a href="../../Def/index.html#type-misc">Def.misc</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-check_siblings"><a href="#val-check_siblings" class="anchor"></a><code><span><span class="keyword">val</span> check_siblings : 
  <span>?onchange:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="#type-base_warning">base_warning</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../../Gwdb/index.html#type-ifam">Gwdb.ifam</a> * <a href="../../Gwdb/index.html#type-family">Gwdb.family</a>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../../Gwdb/index.html#type-person">Gwdb.person</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>check_siblings ?onchange base warning (ifam, fam) callback</code> Checks birth date consistency between siblings. Also calls <code>callback</code> with each child.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-person"><a href="#val-person" class="anchor"></a><code><span><span class="keyword">val</span> person : 
  <span>?onchange:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="#type-base_warning">base_warning</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-person">Gwdb.person</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a> * <a href="../../Gwdb/index.html#type-person">Gwdb.person</a> * <span><a href="../../Def/index.html#type-sex">Def.sex</a> option</span> * <span><span><a href="../../Gwdb/index.html#type-relation">Gwdb.relation</a> list</span> option</span>)</span> list</span>
    option</span></span></code></div><div class="spec-doc"><p><code>person onchange base warn p</code> checks person's properties:</p><ul><li>personal events</li><li>person's age</li><li>person's titles dates</li><li>etc. If <code>onchange</code> is set then sort person's events Calls <code>warn</code> on corresponding <code>base_warning</code> when find some inconsistencies.</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-family"><a href="#val-family" class="anchor"></a><code><span><span class="keyword">val</span> family : 
  <span>?onchange:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="#type-base_warning">base_warning</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-ifam">Gwdb.ifam</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-family">Gwdb.family</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>family onchange base warn f</code> checks family properties like :</p><ul><li>familial events</li><li>parents marraige</li><li>children age gap and birth</li><li>etc. If <code>onchange</code> is set then sort family's events Calls <code>warn</code> on corresponding <code>base_warning</code> when find some inconsistencies.</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-on_person_update"><a href="#val-on_person_update" class="anchor"></a><code><span><span class="keyword">val</span> on_person_update : 
  <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="#type-base_warning">base_warning</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-person">Gwdb.person</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Unlike <code>person</code> who checks directly the properties of a person, checks the properties of a person in relation to other people (his children, parents, spouses, witnesses, etc). Calls <code>warn</code> on corresponding <code>base_warning</code> when find some inconsistencies.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sort_children"><a href="#val-sort_children" class="anchor"></a><code><span><span class="keyword">val</span> sort_children : 
  <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a> array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a> array</span> * <span><a href="../../Gwdb/index.html#type-iper">Gwdb.iper</a> array</span>)</span> option</span></span></code></div><div class="spec-doc"><p>Sort array of children by their birth date from oldest to youngest. Returns old array and sorted version.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-check_other_fields"><a href="#val-check_other_fields" class="anchor"></a><code><span><span class="keyword">val</span> check_other_fields : 
  <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="#type-base_misc">base_misc</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-ifam">Gwdb.ifam</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-family">Gwdb.family</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Cheks if family, father and mother have sources. Otherwise call <code>misc</code> on <code>base_misc</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-eq_warning"><a href="#val-eq_warning" class="anchor"></a><code><span><span class="keyword">val</span> eq_warning : <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-base_warning">base_warning</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-base_warning">base_warning</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>equality between base_warnings</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-person_warnings"><a href="#val-person_warnings" class="anchor"></a><code><span><span class="keyword">val</span> person_warnings : 
  <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-base">Gwdb.base</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Gwdb/index.html#type-person">Gwdb.person</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-base_warning">base_warning</a> list</span></span></code></div><div class="spec-doc"><p><code>person_warnings conf base p</code> Shorthand for <code>CheckItem.person</code> and <code>CheckItem.on_person_update</code> on <code>p</code> and <code>CheckItem.check_siblings</code> on they children using <code>auth_warning</code> for filtering.</p></div></div></div></body></html>