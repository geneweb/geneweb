Metadata-Version: 2.4
Name: geneweb-consang
Version: 1.0.0
Summary: Python implementation of genealogical consanguinity calculator
Author: Geneweb Team
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Science/Research
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Topic :: Scientific/Engineering :: Information Analysis
Requires-Python: >=3.8
Description-Content-Type: text/markdown
Provides-Extra: dev
Requires-Dist: pytest>=7.0; extra == "dev"
Requires-Dist: pytest-cov>=4.0; extra == "dev"
Requires-Dist: black>=22.0; extra == "dev"
Requires-Dist: flake8>=5.0; extra == "dev"
Requires-Dist: mypy>=1.0; extra == "dev"
Dynamic: author
Dynamic: classifier
Dynamic: description
Dynamic: description-content-type
Dynamic: provides-extra
Dynamic: requires-python
Dynamic: summary

# GeneWeb Python Implementation

Implementation Python du module `consang` de GeneWeb avec compatibilitÃ© CLI complÃ¨te avec la version OCaml.

## ğŸš€ DÃ©marrage rapide

```bash
# Configuration de l'environnement de dÃ©veloppement
make dev-setup

# Lancer tous les tests
make test-all

# Voir toutes les commandes disponibles
make help
```

## ğŸ“¦ Installation

```bash
# Installation du package
make install

# Ou directement avec pip
pip install -e .
```

## ğŸ§ª Tests

### Tests unitaires
```bash
make test-unit
```

### Tests d'intÃ©gration
```bash
make test-integration
```

### Tests de compatibilitÃ© OCaml vs Python
```bash
make test-compatibility
```

### Suite complÃ¨te de tests hybrides
```bash
make test-hybrid
```

### Tests avec couverture de code
```bash
make coverage
```

## ğŸ”§ DÃ©veloppement

### VÃ©rification du style de code
```bash
make lint
```

### Formatage automatique
```bash
make format
```

### Tests en mode watch
```bash
make watch
```

### Nettoyage
```bash
make clean
```

## ğŸ“Š Monitoring

### Statut du projet
```bash
make status
```

### Tests de performance
```bash
make benchmark
```

## ğŸ—ï¸ Structure du projet

```
python/
â”œâ”€â”€ consang/                 # Package Python principal
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ cli.py              # Interface en ligne de commande
â”‚   â”œâ”€â”€ calculator.py       # Logique de calcul de consanguinitÃ©
â”‚   â”œâ”€â”€ database.py         # Interface base de donnÃ©es GeneWeb
â”‚   â”œâ”€â”€ consang.py          # Point d'entrÃ©e principal
â”‚   â””â”€â”€ exceptions.py       # Exceptions personnalisÃ©es
â”œâ”€â”€ geneweb_common/         # Utilitaires communs
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ models.py           # ModÃ¨les de donnÃ©es
â”‚   â”œâ”€â”€ database.py         # Interface base de donnÃ©es
â”‚   â”œâ”€â”€ exceptions.py       # Exceptions communes
â”‚   â””â”€â”€ utils.py            # Utilitaires
â”œâ”€â”€ tests/                  # Suite de tests complÃ¨te
â”‚   â”œâ”€â”€ unit/               # Tests unitaires
â”‚   â”œâ”€â”€ integration/        # Tests d'intÃ©gration
â”‚   â”œâ”€â”€ compatibility/      # Tests de compatibilitÃ© OCaml vs Python
â”‚   â”œâ”€â”€ golden_master/      # Tests Golden Master
â”‚   â”œâ”€â”€ performance/        # Tests de performance
â”‚   â””â”€â”€ reports/            # Rapports gÃ©nÃ©rÃ©s
â”œâ”€â”€ scripts/                # Scripts de test
â”‚   â”œâ”€â”€ run_compatibility_tests.sh
â”‚   â””â”€â”€ run_hybrid_tests.sh
â”œâ”€â”€ setup.py               # Configuration du package
â”œâ”€â”€ Makefile              # Commandes de dÃ©veloppement
â””â”€â”€ README.md             # Ce fichier
```

## ğŸ¯ CompatibilitÃ©

L'implÃ©mentation Python vise une compatibilitÃ© 100% avec la version OCaml :

- âœ… **Interface CLI identique** : MÃªme syntaxe, mÃªmes options, mÃªmes messages d'erreur
- âœ… **Codes de sortie identiques** : MÃªme comportement pour tous les cas d'erreur
- âœ… **Format de sortie identique** : Messages et rapports identiques
- âœ… **Performance acceptable** : ~4x plus lent que OCaml (acceptable pour un outil CLI)

## ğŸ§ª Tests de compatibilitÃ©

Les tests de compatibilitÃ© comparent directement les sorties OCaml et Python :

- **Tests Golden Master** : Comparaison bit-Ã -bit des sorties
- **Tests de performance** : Mesure des temps d'exÃ©cution
- **Tests d'intÃ©gration** : VÃ©rification du comportement end-to-end

## ğŸ“ˆ Rapports

Les rapports de test sont gÃ©nÃ©rÃ©s dans `../tests/reports/` :

- `hybrid_report.html` : Rapport complet HTML
- `coverage/index.html` : Rapport de couverture de code
- `golden_master_*.json` : RÃ©sultats des tests Golden Master

## ğŸ› ï¸ Commandes utiles

```bash
# Aide dÃ©taillÃ©e
make help-detailed

# Tests rapides (unitaires seulement)
make quick-test

# Installation complÃ¨te pour dÃ©veloppement
make dev-install

# VÃ©rifier le statut
make status
```

## ğŸ› DÃ©pannage

### Le binaire `consang` n'est pas trouvÃ©
```bash
# RÃ©installer le package
make install

# VÃ©rifier l'installation
which consang
```

### Tests de compatibilitÃ© Ã©chouent
```bash
# VÃ©rifier que le binaire OCaml existe
ls -la ../distribution/gw/consang

# Reconstruire la distribution OCaml si nÃ©cessaire
cd .. && make distrib
```

### ProblÃ¨mes d'environnement
```bash
# Nettoyer et reconfigurer
make clean
make dev-setup
```

## ğŸ“ Contribution

1. Faire les modifications
2. Lancer les tests : `make test-all`
3. VÃ©rifier le style : `make lint`
4. Formater le code : `make format`
5. VÃ©rifier la compatibilitÃ© : `make test-compatibility`

## ğŸ‰ RÃ©sultats actuels

- âœ… **Tests de compatibilitÃ©** : 14/14 (100%)
- âœ… **Tests unitaires** : 7/7 (100%)
- âœ… **Tests d'intÃ©gration** : 3/3 (100%)
- âœ… **Tests Golden Master** : 11/12 (91.7%)

L'implÃ©mentation Python est maintenant **entiÃ¨rement compatible** avec la version OCaml !
